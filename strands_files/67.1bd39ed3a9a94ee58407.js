!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="41f56d2d-7960-4a41-b8d5-54a1f7d0d966",e._sentryDebugIdIdentifier="sentry-dbid-41f56d2d-7960-4a41-b8d5-54a1f7d0d966")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"90199bea12d0307073a61899b1597cc5c29360f3"},(self.webpackChunk_xwords_phoenix=self.webpackChunk_xwords_phoenix||[]).push([[67],{20090:function(e,t,n){n.d(t,{Dc:function(){return r},Ds:function(){return o}});const r=e=>new Promise((t=>{setTimeout(t,e)})),o=(e,t)=>{let n;return function(){for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];const l=this;clearTimeout(n),n=setTimeout((()=>e.apply(l,o)),t)}}},86043:function(e,t,n){n.d(t,{Il:function(){return A},kd:function(){return I},NX:function(){return R},zV:function(){return C}});var r=n(89526),o=n(36629),a=n(95609);const l=window.localStorage,s=e=>{const t=(new Date).getTime()-6048e5,n=1e3*Number.parseInt(e.toString().slice(0,10));return!n||n&&n<=t};const i=localStorage;function c(e,t){const n=JSON.stringify(t);try{(function(e){const{remaining:t}=function(){let e="";for(let t=0;t<window.localStorage.length;t+=1){const n=window.localStorage.key(t);null!=n&&window.localStorage.hasOwnProperty(n)&&(e+=window.localStorage[n])}const t=(16*e.length/8192).toFixed(2);return{used:t,remaining:5120-parseInt(t)}}(),n=localStorage.getItem(e);let r;if(n&&(r=JSON.parse(n)),0===t||r&&r.status&&"full"===r.status)throw new Error("No local storage space remaining")})(e),i.setItem(e,n)}catch(t){try{!function(){const e=Object.keys(localStorage);e.filter((e=>e.includes("nytsb"))).forEach((e=>{const t=l.getItem(e);if(!t)return;const{timestamp:n}=JSON.parse(t);s(n)&&l.removeItem(e)})),e.filter((e=>e.includes("lastPlayed"))).forEach((e=>{const t=l.getItem(e);if(!t)return;const n=JSON.parse(t);s(n)&&l.removeItem(e)}))}(),i.setItem(e,n)}catch(t){i.removeItem(e);try{i.setItem(e,JSON.stringify({status:"full"}))}catch(e){}}}}const d=(e,t)=>c(e,t);function u(e){let{storedPuzzle:t,currentPuzzle:n}=e;try{if(t.puzzleID!==n.id)return!0;const{layout:e}=t,{startingBoard:r}=n;return(()=>{const t=[];for(let n=0;n<e.length;n+=6)t.push(e.slice(n,n+6));return t})().map((e=>e.map((e=>e.char)).join(""))).filter((e=>r.includes(e))).length!==r.length}catch(e){return!0}}var m=n(16323),h=n(66505);function p(e){return!!("object"==typeof e&&e&&"puzzleID"in e&&"playedBefore"in e&&"layout"in e&&"wordsFound"in e&&"shareHistory"in e&&"themeFoundPaths"in e&&"hintPoints"in e&&"hintCount"in e&&"hintUsed"in e)}var f=n(78462);function g(e,t,n){const r=e;return t.forEach(((e,t)=>{const o=r.find((t=>t.id===e.id));if(o)switch(n){case f.U.THEME:o.themed=!0,o.hinted=!1,o.hintedSecondary=!1;break;case f.U.SPANGRAM:o.spangramed=!0;break;case f.U.HINT:o.hinted=!0,o.hintedOrder=t;break;case f.U.SECONDARY_HINT:o.hintedSecondary=!0;break;default:console.log("Invalid field")}})),r}var E=n(96543);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){var r,o,a,l;r=e,o=t,a=n[t],(o="symbol"==typeof(l=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o))?l:l+"")in r?Object.defineProperty(r,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[o]=a})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t){switch(t.type){case f.U.THEME:case f.U.SPANGRAM:case f.U.NONTHEME:{const{type:n,path:r,word:o,themeCoords:a,spangram:l}=t,{shareHistory:s,hintUsed:i,wordsFound:c,themeFoundPaths:u}=e;let{layout:h}=e;c.push(o),u.push({result:n,path:r}),n!==f.U.NONTHEME&&(s.push(n),h=g(h,r,n));const p=(0,E.a)(u,c,a,h),{points:b,hints:_}=(e=>{let{wordsFound:t,hintUsed:n,themeCoords:r,spangram:o}=e;const a=t.filter((e=>r[e]||o===e)),l=t.length-a.length,s=Object.keys(r).length+1,i=Math.floor(l/m.Pc)-n,c=s-a.length;return{points:l%m.Pc,hints:Math.min(i,c)}})({wordsFound:c,hintUsed:i,themeCoords:a,spangram:l}),v=y(y({},e),{},{shareHistory:s,layout:h,hintPoints:p?0:b,hintCount:p?0:_,wordsFound:c});return d(m.Jr,v),v}case f.U.SET_SOLVED:{const t=y(y({},e),{},{solved:!0});return d(m.Jr,t),t}case f.U.RESET_PUZZLE:{const t=y(y({},e),{},{layout:e.layout.map((e=>y(y({},e),{},{spangramed:!1,themed:!1,hintedOrder:-1,hintedSecondary:!1}))),solved:void 0,playedBefore:!0,wordsFound:[],shareHistory:[],themeFoundPaths:[],hintPoints:0,hintCount:0,hintUsed:0});return d(m.Jr,t),t}case f.U.COMPLETE_PUZZLE:{const n=6,{layout:r}=e,{themeWordCoords:o}=t,a=Object.keys(o),l=[],s=a.map((e=>({result:f.U.THEME,path:o[e].map((e=>{let[t,r]=e;const o=t*n+r;return l.push(o),{hinted:!1,id:o}}))}))),i=y(y({},e),{},{layout:r.map((e=>y(y({},e),{},{themed:l.includes(e.id)}))),shareHistory:[...Array(a.length).keys()].map((()=>f.U.THEME)),wordsFound:a,themeFoundPaths:s});return d(m.Jr,i),i}case f.U.HINT:{const{shareHistory:n}=e;n.push(f.U.HINT);const r=y(y({},e),{},{shareHistory:n,layout:g(e.layout,t.path,t.type),hintCount:e.hintCount-1,hintUsed:e.hintUsed+1});return d(m.Jr,r),r}case f.U.SECONDARY_HINT:{const{shareHistory:n}=e;n.push(f.U.HINT);const r=y(y({},e),{},{shareHistory:n,layout:g(e.layout,t.path,t.type),hintCount:e.hintCount-1,hintUsed:e.hintUsed+1});return d(m.Jr,r),r}case f.U.RESET:if(u({storedPuzzle:e,currentPuzzle:t.puzzle})){const e=(0,m.zW)(t.puzzle);return d(m.Jr,e),e}return e;case f.U.ERROR:return console.error(t.message),e;default:throw Error("unknown action: ".concat(t.type))}}var v=n(65489);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const T=(0,r.createContext)(void 0),S=e=>{let{puzzle:t,children:n,puzzleLoaded:o,error:a}=e;if(!t)return null;const l=void 0===a&&function(e,t){try{const n=localStorage.getItem(e);if(!n)return localStorage.setItem(e,JSON.stringify(t||{playedBefore:!0})),!0;{const e=JSON.parse(n);if(e&&"playedBefore"in e&&e.playedBefore)return!1}}catch(e){console.error("error",e)}return!0}(m.Jr,(0,m.zW)()),s={puzzle:t,analytics:new h.c(t.id),puzzleLoaded:o,firstTime:l,error:a};return r.createElement(T.Provider,{value:s},n)},C=()=>{const e=(0,r.useContext)(T);if(!e)throw new Error("usePuzzleContext must be used within a PuzzleProvider");return e},P=(0,r.createContext)(void 0);class z extends Error{constructor(e,t){super(t),O(this,"status",void 0)}}const k=(0,r.createContext)(void 0),D=e=>{let{puzzle:t,children:n}=e;const o=function(e){try{const t=i.getItem(e);if(t){const e=JSON.parse(t);if("object"==typeof e&&e&&"status"in e)return;return e}}catch(e){}}(m.Jr),a=!p(o)||u({storedPuzzle:o,currentPuzzle:t});a&&d(m.Jr,N(N({},(0,m.zW)(t)),{},{puzzleID:t.id}));const[l,s]=(0,r.useReducer)(_,p(o)&&!a?o:(0,m.zW)(t));return r.createElement(P.Provider,{value:l},r.createElement(k.Provider,{value:s},n))},I=()=>{const e=(0,r.useContext)(P);if(!e)throw new Error("useGameStateContext must be used within a GameStateProvider");return e},R=()=>{const e=(0,r.useContext)(k);if(!e)throw new Error("useGameStateDispatchContext must be used within a GameStateDispatchProvider");return e},A=e=>{let{children:t}=e;const[n,l]=(0,r.useState)(void 0),[s,i]=(0,r.useState)(!1),c=(0,a.Y)({gameDataKey:a.I.STRANDS}),[d,u]=(0,r.useReducer)((e=>!e),!1),[m,h]=(0,r.useState)(null);if((0,r.useEffect)((()=>{(e=>{let{today:t}=e;return v.Be.get((n=t,"".concat(v.OB.edge,"/svc/strands/v2/").concat((0,o.Z)(n,"yyyy-MM-dd"),".json")),{withStatus:!0}).catch((e=>{const n=["message: ".concat(e.message),"today: ".concat(t),"new Date(): ".concat(new Date),"new Date().getTimezoneOffset(): ".concat((new Date).getTimezoneOffset()),"Intl.DateTimeFormat().resolvedOptions().timeZone: ".concat(Intl.DateTimeFormat().resolvedOptions().timeZone)];throw e.message=n.join(", "),e}));var n})({today:c}).then((e=>{if((null==e?void 0:e.status)<400){const t=function(e){return{id:e.id,printDate:e.printDate,editor:e.editor,constructors:e.constructors,spangram:e.spangram,startingBoard:e.startingBoard,solutions:e.solutions,clue:e.clue,themeCoords:e.themeCoords}}(e);h(t)}else{let t;void 0!==(null==e?void 0:e.status)&&(t=null==e?void 0:e.status),l(new z(t,e.errors.join(", ")))}i(!0)})).catch((e=>{l(e),i(!0)}))}),[d]),null===m&&s){const e=(p=c,{id:0,printDate:(0,o.Z)(p,"yyyy-MM-dd"),editor:"Tracy Bennett",constructors:"Tracy Bennett",startingBoard:[],clue:"",spangram:"",solutions:[],themeCoords:{}});return r.createElement(S,{puzzle:e,puzzleLoaded:s,error:n},r.createElement(D,{puzzle:e},t))}var p;return null===m?null:r.createElement(S,{puzzle:m,puzzleLoaded:s,error:n},r.createElement(D,{puzzle:m},t))}},66505:function(e,t,n){n.d(t,{c:function(){return s}});var r=n(65489);const o=e=>"string"==typeof e?e:"submits"in e?["submits:".concat(e.submits)]:["hints_used:".concat(e.hintsUsed),"total_submits:".concat(e.totalSubmits),"total_solves:".concat(e.totalSolves)];function a(e){if("number"==typeof e)return e;const{word:t,submits:n,hintAvail:r}=e,o=["word:".concat(t),"submits:".concat(n),"hint_avail:".concat(r)];return"level"in e&&"hintUsed"in e&&o.push("level:".concat(e.level),"hint_used:".concat(e.hintUsed)),o}const l="strands";class s{constructor(e){var t,n,r,o;t=this,r=void 0,(n="symbol"==typeof(o=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n="puzzleID"))?o:o+"")in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,this.puzzleID=e}startGame(){(0,r.LW)({element:{name:l,label:"start-game"},context:"".concat(this.puzzleID),type:"click"})}hintAvailable(e){(0,r.hX)("hint-button",l,o({submits:e}),"".concat(this.puzzleID))}clickHint(e){(0,r.LW)({element:{name:l,label:"hint"},context:"".concat(this.puzzleID),label:"type:".concat(e)})}completePuzzle(){(0,r.LW)({element:{name:l,label:"100%-complete"},context:"".concat(this.puzzleID)})}findThemeWord(e,t,n,o,s){(0,r.LW)({element:{name:l,label:"solve-attempt"},label:a({word:e,level:t,submits:n,hintUsed:o,hintAvail:s}),context:"".concat(this.puzzleID)})}findNonThemeWord(e,t,n){(0,r.LW)({element:{name:l,label:"hint-attempt"},label:a({word:e,submits:t,hintAvail:n}),context:"".concat(this.puzzleID)})}findSpangram(e,t,n,o,s){(0,r.LW)({element:{name:l,label:"spangram"},label:a({word:e,level:t,submits:n,hintUsed:o,hintAvail:s}),context:"".concat(this.puzzleID)})}openHelp(){(0,r.LW)({element:{name:l,label:"help"},context:"".concat(this.puzzleID),region:"toolbar"})}seeHelp(e){(0,r.LW)({element:{name:"help",label:e},context:"".concat(this.puzzleID),region:l})}closeHelp(){(0,r.LW)({element:{name:l,label:"close"},context:"".concat(this.puzzleID),region:"help"})}nextHelp(e){(0,r.LW)({element:{name:l,label:"next"},context:"".concat(this.puzzleID),label:e,region:"help"})}playHelp(){(0,r.LW)({element:{name:l,label:"play"},context:"".concat(this.puzzleID),region:"help"})}back(e){(0,r.LW)({element:{name:l,label:"back"},context:"".concat(this.puzzleID),label:e,region:"help"})}spellingBee(){(0,r.LW)({element:{name:l,label:"next-game"},context:"".concat(this.puzzleID),label:"spelling-bee",type:"click"})}feedbackLink(){(0,r.LW)({element:{name:l,label:"email-feedback"},context:"".concat(this.puzzleID),region:"settings"})}congratsModal(e,t,n){(0,r.hX)("congrats-modal",l,o({hintsUsed:e,totalSubmits:t,totalSolves:n}),"".concat(this.puzzleID))}viewResults(){(0,r.LW)({element:{name:l,label:"view-results"},context:"".concat(this.puzzleID)})}reportBug(){(0,r.LW)({element:{name:l,label:"report-bug"},context:"".concat(this.puzzleID),region:"settings"})}faq(){(0,r.LW)({element:{name:l,label:"faq"},context:"".concat(this.puzzleID),region:"settings"})}sharePuzzle(){(0,r.LW)({element:{name:l,label:"share"},context:"".concat(this.puzzleID),region:"congrats-modal"})}login(){(0,r.LW)({element:{name:l,label:"log-in"},context:"".concat(this.puzzleID),region:"welcome"})}subscribe(){(0,r.LW)({element:{name:l,label:"subscribe"},context:"".concat(this.puzzleID),region:"welcome"})}welcomeMoment(e){(0,r.hX)("welcome-modal",l,e,"".concat(this.puzzleID))}clickAppDownloadCTA(){(0,r.LW)({region:"welcome",element:{name:l,label:"welcome-download-app"},context:"".concat(this.puzzleID)})}viewAppDownloadCTA(){(0,r.hX)("welcome",l,"download-app","".concat(this.puzzleID))}}},44960:function(e,t,n){n.d(t,{Z:function(){return Dt}});var r=n(89526),o=n(73961),a=n(76359),l=n(64403),s=n.n(l),i=n(14237),c=n(42902),d=n(43812),u=n(39385),m=n(60063),h=n(38661),p=n(22466),f=n(60820);const g=["children","icon"];function E(){return E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},E.apply(this,arguments)}var b=e=>{const{children:t,icon:n}=e,o=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,g);return r.createElement("li",null,r.createElement("button",E({type:"button"},o,{className:s()("ToolbarButton-module_button__Y5yUu"),disabled:o.disabled}),r.createElement(f.v,{icon:n}),t))},y=n(66686);let _=function(e){return e.NONE="none",e.HELP="help",e.SETTINGS="settings",e.PUZZLES="puzzles",e.CONGRATS="congrats",e.HINT_NEED="hint-need",e.HINT_ONE="hint-one",e}({});var v=n(66505);let w=function(e){return e.HELP="help",e.SETTINGS="settings",e}({});function N(e){let{isDisabled:t,puzzleId:n,hide:o=!1}=e;const l=new v.c(n),s=(0,a.I0)();return r.createElement(p.Z,{isHidden:o},r.createElement("nav",{className:"Toolbar-module_toolbarWrapper__tZamw","data-testid":"strands-toolbar"},r.createElement("ul",{className:"Toolbar-module_toolbar__WqCd8"},r.createElement(b,{icon:w.HELP,onClick:()=>{l.seeHelp("toolbar"),l.openHelp(),s((0,y.h7)(_.HELP))},"aria-label":"Help",disabled:t,"data-testid":"toolbar-help"}),r.createElement(b,{icon:w.SETTINGS,"aria-label":"Settings",disabled:t,onClick:()=>s((0,y.h7)(_.SETTINGS))}))))}var O=n(34419);const T=["isClosing","getOpenToastName","toastMap","onClose","portalId","onRemove"];function S(){return S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S.apply(this,arguments)}function C(e){let{isClosing:t,getOpenToastName:n,toastMap:l,onClose:s,portalId:i,onRemove:c}=e,d=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,T);const u=r.useRef(document.getElementById(i)),m=(0,a.I0)(),h=(0,a.v9)(n);if(!h)return null;const p=l[h],f=r.createElement(p,S({close:function(){return m(s(arguments.length>0&&void 0!==arguments[0]&&arguments[0]))},isClosing:t,onRemove:()=>m(c())},d));return u.current?(0,o.createPortal)(f,u.current):f}var P=n(86043),z=n(69802);const k=e=>{let{clue:t}=e;const n=(0,P.kd)(),{puzzle:o}=(0,P.zV)(),{wordsFound:a,hintUsed:l,solved:i}=n,{themeCoords:c,spangram:d}=o,u=Object.keys(c).length+1,m=a.filter((e=>c[e]||d===e)).length===u,h=["Perfect!","Great!","Well Done!"],p=h.length,f=l<p?h[l]:h[p-1],g="safari"===(0,z.Ai)(),E=m&&!0===i,b=m&&void 0===i||E&&!g,y=E&&g;return r.createElement("section",{id:"riddle","data-content":f,className:s()("riddle-module_riddle__w8JzO",{"riddle-module_endGameFlip__kkSQO":b,"riddle-module_endGameFlipDelayed__jpjQE":y})},r.createElement("h3",{className:"riddle-module_label__OY9sx"},"todayâ€™s theme"),r.createElement("h1",{className:"riddle-module_clue__DAHxH"},t))};var D=n(78462),I="styles-module_word__LwKKp";const R=e=>{const{word:t,feedback:n}=e,o={color:"black"},[a,l]=(0,r.useState)(""),[s,i]=(0,r.useState)(o),[c,d]=(0,r.useState)(""),u=(e,t,n,r)=>{l(e),i(t||o),d(""),n&&(d("styles-module_invalidshake__KMQkk"),setTimeout((()=>{l("".concat(r)),i(o)}),1e3))};return(0,r.useEffect)((()=>{switch(null==n?void 0:n.result){case D.U.TOO_SHORT:return void u("".concat(t),void 0,!0,"Too short");case D.U.TOO_LONG:return void u("".concat(t),void 0,!0,"Too long");case D.U.NOT_A_WORD:return void u("".concat(t),void 0,!0,"Not in word list");case D.U.ALREADY_FOUND:return void u("".concat(t),void 0,!0,"Already found");case D.U.NONTHEME:return void u(t,{color:"var(--grey)"});case D.U.THEME:return void u(t,{color:"var(--text-blue)"});case D.U.SPANGRAM:return void u("SPANGRAM!",{color:"var(--yellow)"});default:l(""),n&&console.error(null==n?void 0:n.result)}}),[n]),t?r.createElement("span",{className:I,"aria-live":"polite"},t):r.createElement("span",{className:"".concat(I," ").concat(c),style:s,"aria-live":"polite"},a)};var A=n(16323),H=n(96543);const U=e=>{let{onClick:t,style:n}=e;return r.createElement("button",{type:"button",onClick:t,className:"styles-module_resultsButton__srg7k",style:n},"View Results")};function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){var r,o,a,l;r=e,o=t,a=n[t],(o="symbol"==typeof(l=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o))?l:l+"")in r?Object.defineProperty(r,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[o]=a})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const L=e=>{let{hintFlag:t,setHintFlag:n}=e;const{puzzle:o}=(0,P.zV)(),l=(0,P.kd)(),s=(0,P.NX)(),i=(0,a.I0)(),c=new v.c(o.id),{themeCoords:d,spangram:u}=o,{layout:m,hintPoints:h,hintCount:p,hintUsed:f,wordsFound:g,themeFoundPaths:E}=l,b=(0,H.a)(E,g,d,m);(0,r.useEffect)((()=>{n(p>0)}),[p]);const w=()=>{i(b?(0,y.h7)(_.HINT_ONE):(0,y.h7)(_.HINT_NEED))};(0,r.useEffect)((()=>{1===p&&c.hintAvailable(g.length)}),[p]),(0,r.useEffect)((()=>{f<p&&p>1&&c.hintAvailable(g.length)}),[f]);const N=g.filter((e=>d[e]||u===e)),O=N.length===Object.keys(d).length+1,T=Object.keys(d).length+1,[S,C]=(0,r.useState)(!1),z=p>1,k=p>0||b?{display:"none"}:{clipPath:"inset(0 ".concat(100-h/A.Pc*100,"% 0 0)")},I=z?{zIndex:"-1"}:{},R=S?{animation:"".concat("hint-module_pulse__VbJc8"," 200ms ease")}:{},M={opacity:O?"0":"1",pointerEvents:O?"none":"auto"},L={opacity:O?"1":"0",pointerEvents:O?"auto":"none"};return r.createElement("div",{className:"hint-module_hint__yArL5",id:"hint"},r.createElement("div",{style:j(j({},R),M),onPointerDown:()=>{C(!0),setTimeout((()=>{C(!1)}),200)}},r.createElement("button",{type:"button",className:"hint-module_overlay___9ixH",style:j(j({},k),{},{color:"black"},I),onClick:w,"data-testid":"hint-button"},"Hint",r.createElement("div",null)),0===p?r.createElement("button",{type:"button",className:"hint-module_lightbulb__YfeFm",onClick:w,style:{color:"#cfcfcf"},"data-testid":"no-hints-available"},"Hint"):r.createElement("button",{type:"button",className:"hint-module_bluebulb__QtJ5d",onClick:()=>{try{if(m.some((e=>e.hintedSecondary)))i((0,y.h7)(_.HINT_ONE));else if(m.some((e=>e.hinted))){(e=>{for(let t=0;t<e.length;t+=1){const n=e[t];if(n.hinted&&!("hintedSecondary"in n)&&!("hintedOrder"in n))throw Error("Hint Error: Missing `hintedSecondary` and `hintedOrder`")}})(m);const e=m.filter((e=>e.hinted)).map((e=>({id:e.id,hinted:!0})));s({type:D.U.SECONDARY_HINT,path:e}),c.clickHint("reveal")}else{const e=function(e,t){if(0===Object.keys(e).length)throw new Error("Hint Error: Not enough theme words");const n=Object.values(e).sort(((e,t)=>e.length-t.length)).filter((e=>{const[n,r]=e[0],o=t.find((e=>e.row===n&&e.col===r));return o&&!o.themed&&!o.hinted})),r=0===n.length,o=(e=>e.filter((e=>!e.themed)).map((e=>[e.row,e.col])))(t);return((e,t)=>e.map((e=>{const[n,r]=e,o=t.find((e=>e.row===n&&e.col===r));if(!o)throw new Error("Hint Error: Could not find hinted element at: ".concat(e));return{id:o.id,hinted:!0}})))(r?o:n[0],t)}(d,m);s({type:D.U.HINT,path:e}),n(!t),c.clickHint("hint")}}catch(e){s({type:D.U.ERROR,message:e.message})}},style:{backgroundColor:"black",color:"white"},"data-testid":"hints-available"},"Hint")),r.createElement("p",{style:M},r.createElement("b",null,N.length)," of ",r.createElement("b",null,T)," theme words found."),O&&r.createElement(U,{onClick:()=>{i((0,y.h7)(_.CONGRATS)),c.congratsModal(f,g.length,T),c.viewResults()},style:L}))};var x=n(84510),F=n(54943),B=n(31189),Z=n(43401),W=n(77327),G=n(72834);function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){var r,o,a,l;r=e,o=t,a=n[t],(o="symbol"==typeof(l=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o))?l:l+"")in r?Object.defineProperty(r,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[o]=a})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const J={transitionTo:"welcome",isActive:!0};var X=n(86934),q=n(18540),Q=n(65489),K=n(53789),$=n(18489),ee=n(28557),te=n(33064),ne=n(30829),re=n(35451),oe=n(22777);const ae="EXPOSURE_REPORTER_STANDARD";var le=e=>{let{testName:t,variantName:n,shouldReport:r=!1,reporterType:o=ae}=e;const{reportHybridExposure:a,reportExposure:l,getVariant:s}=Q.abra,i=s(t);if(!i)return!1;let c;switch(o){case ae:c=l;break;case"EXPOSURE_REPORTER_HYBRID":c=a}return r&&i&&c&&c(t),!!n&&i===n},se=n(43972);const ie=[{name:"loading",Content:e=>{let{hasLoaded:t,today:n}=e;const o=V(V({},J),{},{hasLoaded:t,today:n,bgColor:"$strands-seafoam",barBgColor:"rgba(0, 0, 0, 0.2)",barColor:"#000"});return r.createElement(G.Z,o)}},{name:"welcome",Content:e=>{let{transitionToAd:t,transitionToGame:n,today:o,editor:l,constructors:c,puzzleId:d}=e;const u=new v.c(d),{userType:m,updateUserType:h,hasLoaded:p}=(0,i.aF)(),{hasXwd:f,isLoggedIn:g}=m,{shouldRenderAd:E}=(()=>{const{puzzle:e,puzzleLoaded:t}=(0,P.zV)(),n=(0,P.kd)(),{solved:o}=n,{hasLoaded:a,userType:l}=(0,i.aF)(),{hasXwd:s,entitlement:c}=l,[d,u]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{a&&t&&u((e=>{let{entitlement:t,hasXwd:n,isGameFinished:r}=e;return!(t.includes("cr")||n||r)})({entitlement:c,hasXwd:s,isGameFinished:o}))}),[o,a,s,c,t,e]),{shouldRenderAd:()=>d&&!!(0,oe.Z)()&&(le({testName:"DFP_StrandsMobileWeb_AA",shouldReport:!0,reporterType:ae}),le({testName:"DFP_StrandsMobileWeb",shouldReport:!0,variantName:"1_Variant"}))}})(),b=((0,a.I0)(),(()=>{const e=!!window.newsreaderAppPlatform,t=(0,$.Z)()&&!K.tq&&!window.isHybridWebView;return!e&&!window.isHybridWebView&&(K.tq||t)})()),y={text:"Play",dataTestId:"moment-btn-play",action:()=>{u.startGame(),E()?t():n()}},_={text:"Subscribe",className:["cta-bau"],dataTestId:"moment-btn-subscribe",action:()=>{(0,ee.c)("strands",h),u.subscribe()}};let w=[{buttons:[y],desktopButtonOrder:"vertical"},{header:"Want to access more games and features?",desktopButtonOrder:"vertical",buttons:[{text:"Log in",dataTestId:"moment-btn-login",action:e=>{const t=(0,te.U)(window||void 0);(0,ne.Z)(e,h,void 0,t),u.login()}},_]}];g&&(w=[{buttons:[y],desktopButtonOrder:"vertical"},{header:"Want to access more games and features?",desktopButtonOrder:"vertical",buttons:[_]}]),f&&(w=[{buttons:[y],desktopButtonOrder:"vertical"}]),(0,r.useEffect)((()=>{if(p){const e=(e=>{const{isLoggedIn:t,hasXwd:n}=e;return n?"NULL":t?"subscribe":"log-in, subscribe"})(m);u.welcomeMoment(e)}}),[p]);const N={game:{game:"strands",icon:"strands",title:"Strands",date:(0,re.F)(o),bgColor:"$strands-seafoam",buttonGroups:w,meta:"",description:{text:"Find hidden words and uncover the dayâ€™s theme."},editor:"",infoText:!!c&&!!l&&r.createElement(r.Fragment,null,r.createElement("span",{className:"pz-moment__info-editor"},"Puzzle by ",c),c!==l&&r.createElement("span",{className:"pz-moment__info-editor"},"Edited by ",l))}};return(0,r.useEffect)((()=>{b&&u.viewAppDownloadCTA()}),[b]),r.createElement("div",{className:s()("welcome-module_welcomeContainer__aXIR9",b&&"welcome-module_smallContainer__uvpSX")},r.createElement(X.Z,N),b&&r.createElement(q.j,{title:"NEW TO THE NYT GAMES APP",subtitle:"Play in the app today",icon:"",ctaLink:"https://fpx3r.app.goo.gl/app-store",onClickLink:()=>{u.clickAppDownloadCTA()},type:q.Z.STRANDS}))}},{name:"ad",Content:e=>{let{isActive:t,transitionToGame:n}=e;return t?r.createElement(se.Z,{id:"intsl",isSpecialAdUnit:!0,position:"intsl",onClose:n,ctaCopy:"Continue to Strands",className:s()("index-module_adInterstitial__uqUb3"),skipButtonClassName:s()("index-module_adInterstitialSkipButton__q6464"),animateIn:!0,delaySkip:!0,enableCountdown:!0}):null}}],ce=(0,W.Z)(ie),{Moments:de,momentSystem:ue}=ce;var me=e=>{let{today:t}=e;const n=r.createElement("span",null,(0,re.F)(t)),a=r.useRef(document.getElementById("portal-game-date"));return a.current?(0,o.createPortal)(n,a.current):n},he=n(95609),pe=n(97593);const fe=e=>{let{id:t,children:n,order:o=0,delay:a=0}=e;const l={animationDelay:"".concat(o*a,"ms")};return r.createElement(pe.$3,{flipId:t},r.createElement("div",{className:"Pulser-module_enlarged__DlAVO",style:l},n))},ge=e=>{let{id:t,children:n,order:o,delay:a}=e;return r.createElement(pe.$3,{flipId:t},r.createElement("div",{className:"Pulser-module_standard__JB06d"},n))},Ee=e=>{let{id:t,flip:n,children:o,order:a=0,delay:l=0}=e;const s="pulser-".concat(t);return n?r.createElement(fe,{id:s,order:a,delay:l},o):r.createElement(ge,{id:s},o)};var be="styles-module_item__ZXXc7";function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){var r,o,a,l;r=e,o=t,a=n[t],(o="symbol"==typeof(l=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o))?l:l+"")in r?Object.defineProperty(r,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[o]=a})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const ve=e=>{let{id:t,char:n,themed:o,spangramed:a,hinted:l,hintedOrder:i,hintedSecondary:c,selected:d,selectable:u,role:m,handleClick:h,reset:p,startDragging:f,drag:g,shouldFlip:E,triggerEnd:b}=e;const[y,_]=(0,r.useState)(!1),[v,w]=(0,r.useState)(!1),[N,O]=(0,r.useState)(!1);function T(){O(!0),setTimeout((()=>{O(!1)}),200)}(0,r.useEffect)((()=>{g||_(!1)}),[g]);let S={},C={};return o?S={backgroundColor:"var(--blue)"}:a?S={backgroundColor:"var(--yellow)"}:l&&(S={animationDuration:"4s",animationTimingFunction:"ease",animationDelay:"".concat(300*i,"ms"),animationIterationCount:"infinite",animationName:c?"styles-module_pulseHintOutline__by9NM":""},CSS.supports("(hanging-punctuation: first) and (font: -apple-system-body) and (-webkit-appearance: none)")?S.border="3px dashed var(--hint-blue)":S.outline="3px dashed var(--hint-blue)"),m&&"submit"===m&&!g&&(C={outline:"3px solid #DBD8C5",outlineOffset:"3px",animationDuration:"2600ms",animationTimingFunction:"ease",animationIterationCount:"infinite",animationName:"styles-module_pulseSubmitOutline__dnua8"}),u?r.createElement(Ee,{id:t,flip:-1!==E,order:E,delay:b?50:a?75:0},r.createElement("button",{type:"button",style:d?_e(_e({},{backgroundColor:"#DBD8C5"}),C):_e({},S),className:s()("styles-module_strandsBtn__xobCT",be,{"styles-module_animPulse__URYjb":N}),onPointerDown:e=>{(e=>{e.target.releasePointerCapture(e.pointerId),w(!0),g||(h(t,l),T()),_(!0)})(e)},onPointerUp:()=>{_(!1)},onPointerEnter:()=>{g&&(h(t,l),T())},onPointerLeave:()=>{y&&!g&&f()},onClick:()=>{v||h(t,l)},id:"button-".concat(t)},n)):r.createElement("div",{style:S,className:be,onPointerDown:()=>{p(t)},id:"letter-".concat(t)},n)};const we=()=>{const e=[];let t=0;for(let n=1;n<9;n+=1)for(let r=1;r<7;r+=1){const o=334/6*r-22-12,a=54*n-22-10;e.push({id:t,x:o,y:a}),t+=1}return e},Ne=e=>{let{path:t}=e;const n=we();if(!t||t.length<1)return r.createElement(r.Fragment,null);const o=n.find((e=>{var n;return e.id===(null===(n=t[0])||void 0===n?void 0:n.id)}));let a="M ".concat(null==o?void 0:o.x," ").concat(null==o?void 0:o.y);if(t.length>1)for(let e=1;e<t.length;e+=1){const r=n.find((n=>n.id===t[e].id));a+="L ".concat(null==r?void 0:r.x," ").concat(null==r?void 0:r.y)}return r.createElement("path",{d:a})},Oe=e=>{let{themePaths:t}=e;if(0===t.length)return r.createElement(r.Fragment,null);const n=we(),o=t.filter((e=>e.result!==D.U.NONTHEME)),a=[];let l="";for(let e=0;e<o.length;e+=1){const s=o[e];l=s.path.map(((e,t)=>{const r=n.find((t=>t.id===e.id));let o="";return o+=0===t?"M ".concat(null==r?void 0:r.x," ").concat(null==r?void 0:r.y):"L ".concat(null==r?void 0:r.x," ").concat(null==r?void 0:r.y),o})).join(""),a.push(r.createElement("path",{stroke:s.result===D.U.THEME?"var(--blue)":"var(--yellow)",d:l,key:t.indexOf(s)}))}return r.createElement(r.Fragment,null,a)},Te=e=>{let{themePaths:t,path:n}=e;return r.createElement("div",{className:"styles-module_wrapper__k5zDh"},r.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg"},r.createElement("g",{strokeLinecap:"round",strokeWidth:12,fill:"none"},r.createElement(Oe,{themePaths:t})),r.createElement("g",{strokeLinecap:"round",strokeWidth:12,stroke:"rgb(219, 216, 197)",fill:"none"},r.createElement(Ne,{path:n}))))};const Se=e=>{let{id:t}=e;return r.createElement(pe.$3,{flipId:"bubble-".concat(t),shouldFlip:()=>!1},r.createElement("div",{className:"bubbles-module_bubble__f9FAw"}))},Ce=e=>{var t;let{id:n}=e;const o=null===(t=document.getElementById("hint"))||void 0===t?void 0:t.firstElementChild,a=null==o?void 0:o.getBoundingClientRect(),l=window.matchMedia("(min-width: 768px)"),s=window.matchMedia("(max-height: 594px)"),{left:i,top:c}=l.matches||!a?{left:"max(calc(-20vw - 125px), -383px)",top:376}:s.matches?{left:a.left+6,top:a.top-22}:{left:a.left+22,top:a.top-48};return r.createElement(r.Fragment,null,r.createElement("div",null),r.createElement(pe.$3,{flipId:"bubble-".concat(n),stagger:!0},r.createElement("div",{className:"bubbles-module_bubbleCornered__SNZeX",style:{left:i,top:c}})),r.createElement("div",{style:{left:i,top:c},className:"bubbles-module_hider__zoPog"}))},Pe=e=>{let{id:t,fly:n}=e;return n?r.createElement(Ce,{id:t}):r.createElement(Se,{id:t})},ze=e=>{let{path:t}=e;return r.createElement(pe.U5,{flipKey:t,className:"bubbles-module_wrapper__Jovg9",spring:"noWobble"},Array.from({length:48},((e,n)=>{const o=t&&t.find((e=>e.id===n));return r.createElement(Pe,{key:n,id:n,fly:!!o})})))};var ke="styles-module_wrapper__A7No7";const De=[5,10,15,20,25,30,11,16,21,26,31,36,17,22,27,32,37,42,23,28,33,38,43,29,34,39,44],Ie=[35,40,45,41,46,47],Re=e=>{let{word:t,setWord:n,setFeedback:o,setIsToolbarDisabled:l}=e;const i=(0,P.kd)(),c=(0,P.NX)(),d=(0,a.I0)(),{puzzle:u}=(0,P.zV)(),m=new v.c(u.id),h=ue.getCurrentMoment(),{themeCoords:p,spangram:f}=u,{layout:g,wordsFound:E,hintCount:b,themeFoundPaths:w,hintUsed:N,solved:O}=i,[T,S]=(0,r.useState)([]),[C,z]=(0,r.useState)([]),[k,I]=(0,r.useState)(!1),[R,A]=(0,r.useState)(),[U,M]=(0,r.useState)(),[j,L]=(0,r.useState)(!1),[x,F]=(0,r.useState)(!1),B=(0,r.useRef)(N),Z=Object.keys(p).length+1,W=e=>e.filter((e=>p[e]||f===e)).length===Z;function G(){try{((e,t,n)=>{const{themeCoords:r,spangram:o,solutions:a}=n;if(0===e.length)throw new Error("ENTER A WORD TO SUBMIT");if(e.length<4)throw new Error("TOO SHORT");if(t.includes(e))throw new Error("ALREADY FOUND");if(o!==e&&!r[e]&&!a.includes(e))throw new Error("NOT A WORD")})(t,E,u);const e=((e,t)=>t.themeCoords[e]?D.U.THEME:t.spangram===e?D.U.SPANGRAM:D.U.NONTHEME)(t,u);o({attempt:t,result:e}),c({type:e,word:t,path:T,themeCoords:p,spangram:f}),((e,t,n)=>{e===D.U.NONTHEME&&(t(n),setTimeout((()=>{t([])}),1e3))})(e,M,T),function(e){const n=E.filter((e=>p[e]||f===e)).length,r=(e=>e.some((e=>e.hinted)))(g)||b>=1?1:0,o=e===D.U.THEME&&T.every((e=>e.hinted))?1:0;e===D.U.THEME?m.findThemeWord(t,n,E.length,o,r):e===D.U.SPANGRAM?m.findSpangram(t,n,E.length,o,r):m.findNonThemeWord(t,E.length,r)}(e)}catch(e){o({attempt:t,result:e.message})}S([])}function Y(e){S(e?[{id:e,hinted:!1}]:[]),o(void 0)}function V(e){return!!T.find((t=>t.id===e))}function J(e){return T.length>0&&e===T[T.length-1].id}function X(e){return T.length<1||!!C.find((t=>t.id===e))||V(e)}function q(e,t,n){return t?function(e){let t=0;return De.includes(e)?t=5:Ie.includes(e)&&(t=10),t+e%5}(e):function(e,t){return!e||e.length<1?-1:e.findIndex((e=>e.id===t))}(n,e)}(0,r.useEffect)((()=>{const{delay:e,path:t,themed:r}=function(e){const t=e.filter((e=>e.result!==D.U.NONTHEME));if(t.length<1)return{delay:0,path:[],themed:!1};const n=t[t.length-1],{path:r,result:o}=n,a=o===D.U.SPANGRAM?75:0;return{delay:(r.length-1)*a+1e3,path:r,themed:e[e.length-1].result!==D.U.NONTHEME}}(w);B.current===N&&r?(A(t),setTimeout((()=>A([])),e),W(E)&&"game"===h&&!x?(F(!0),(e=>{l(!0),n(""),m.completePuzzle(),setTimeout((()=>{L(!0)}),100+e),setTimeout((()=>{void 0===i.solved&&c({type:D.U.SET_SOLVED}),d((0,y.h7)(_.CONGRATS)),m.congratsModal(N,E.length,Z),l(!1)}),2500+e)})(O?500:e)):L(!1)):B.current=N}),[i,h]),(0,r.useEffect)((()=>{void 0===i.solved&&F(!1)}),[i.solved]);const Q=()=>{I(!0)},K=(e,t)=>{if(!W(E))if(T.length>0&&J(e)){if(k)return;if(1===T.length)return void Y();G()}else T.length>1&&V(e)?function(e){const t=T.indexOf(T.find((t=>t.id===e)));S(T.slice(0,t+1))}(e):function(e,t){S([...T,{id:e,hinted:t}])}(e,t)},$=()=>{k&&(I(!1),T.length>1&&G())};(0,r.useEffect)((()=>{t.length>19&&(S([]),o({attempt:t,result:D.U.TOO_LONG}))}),[t]),(0,r.useEffect)((()=>{let e="";if(T.forEach((t=>{e+=g.find((e=>e.id===t.id)).char})),n(e),T.length>0){const e=function(e,t){const{row:n,col:r}=e.find((e=>e.id===t)),o=[];return[{row:-1,col:0},{row:1,col:0},{row:0,col:-1},{row:0,col:1},{row:-1,col:-1},{row:-1,col:1},{row:1,col:-1},{row:1,col:1}].forEach((t=>{const a=n+t.row,l=r+t.col,s=e.find((e=>e.row===a&&e.col===l?e:null));s&&o.push(s)})),o}(g,T[T.length-1].id);z(e)}}),[T]);const ee=(0,H.a)(w,E,p,g);return r.createElement("form",{className:W(E)?s()([ke,"styles-module_disabled__iIL5I"]):ke,onPointerUpCapture:$,onMouseLeave:$,onClick:()=>Y(),onKeyDown:e=>{"Escape"===e.key&&Y()},"data-testid":"strands-board"},r.createElement("div",{onClick:e=>e.stopPropagation()},r.createElement(pe.U5,{className:"styles-module_board__D_Xt6",flipKey:R,spring:"noWobble"},Array.from({length:g.length},((e,t)=>{const{id:n,char:o,themed:a,spangramed:l,hinted:s,hintedOrder:i,hintedSecondary:c}=g[t],d=J(n)&&T.length>3?"submit":"other",u=void 0===O?R:[];return r.createElement(ve,{key:t,id:n,char:o,themed:a,spangramed:l,hinted:s,hintedOrder:i,hintedSecondary:c&&0===T.length,selected:V(n),selectable:X(n),role:d,handleClick:K,reset:()=>Y(),startDragging:Q,drag:k,shouldFlip:q(n,j,u),triggerEnd:j})})))),r.createElement(Te,{themePaths:w,path:T}),r.createElement(ze,{path:ee?void 0:U}))};var Ae=n(88494),He=n(81353),Ue=n(6697),Me=e=>{let{shareMessage:t,tracker:n,onCopy:o,onFail:a,dataTestId:l}=e;return r.createElement(Ue.Z,{type:"dark-mode-support",className:s()("ShareButton-module_shareButton__gncso"),text:"Share your results",onClick:e=>{e.preventDefault(),e.stopPropagation(),n(),(0,He.BN)({text:t},o,a,e)},dataTestId:l})},je=n(12547),Le=n(6249);const xe={[D.U.THEME]:"ðŸ”µ",[D.U.SPANGRAM]:"ðŸŸ¡",[D.U.HINT]:"ðŸ’¡"};var Fe={congratsContent:"Congrats-module_congratsContent__LtKy8",backToPuzzleBtn:"Congrats-module_backToPuzzleBtn__nmlh9",buttonsContainer:"Congrats-module_buttonsContainer__eO0en",backToPuzzle:"Congrats-module_backToPuzzle__uRdXP",closeButton:"Congrats-module_closeButton__oqyoc",circleWrapper:"Congrats-module_circleWrapper__c1B4n",circle:"Congrats-module_circle__dEyuv",shareDescriptor:"Congrats-module_shareDescriptor__CCSkv",actions:"Congrats-module_actions__hSzSY",timer:"Congrats-module_timer__ZFviM",fullscreenButtons:"Congrats-module_fullscreenButtons__lZVZd",button:"Congrats-module_button__bE2td",fullscreenContent:"Congrats-module_fullscreenContent__kWHoq",fullscreenModalDescription:"Congrats-module_fullscreenModalDescription__fFLtR",fullscreenModalTitle:"Congrats-module_fullscreenModalTitle__p8q4n",sb:"Congrats-module_sb__tEmEL"};const Be=36e5,Ze=e=>e.toString().padStart(2,"0"),We=e=>{let{id:t}=e;const[n,o]=(0,r.useState)("");return(0,r.useEffect)((()=>{const e=new Date;e.setDate(e.getDate()+1),e.setHours(0,0,0,0);const t=e.getTime(),n=()=>o((e=>{const t=(new Date).getTime(),n=Math.floor(e-t);if(n<=0)return"00:00:00";const r=Math.floor(n%864e5/Be),o=Math.floor(n%Be/6e4),a=Math.floor(n%6e4/1e3);return"".concat(Ze(r),":").concat(Ze(o),":").concat(Ze(a))})(t)),r=setInterval(n,200);return n(),()=>clearInterval(r)}),[t]),r.createElement("span",{className:Fe.timer,role:"timer"},n)},Ge={[D.U.THEME]:"hint-blue",[D.U.SPANGRAM]:"yellow",[D.U.HINT]:"lightbulb"},Ye=e=>{let{type:t}=e;if([D.U.THEME,D.U.SPANGRAM].includes(t)){const e={backgroundColor:"var(--".concat(Ge[t],")")};return r.createElement("div",{className:Fe.circle,style:e})}return r.createElement("div",{className:Fe.circle},"ðŸ’¡")};var Ve="carousel-module_swipe__O3ovp";let Je=0;function Xe(e,t,n){const r=Math.round(t.scrollLeft/e*100);r<33&&0!==Je?(Je=0,n(0)):r>=33&&r<66&&1!==Je?(Je=1,n(1)):r>=66&&2!==Je&&(Je=2,n(2))}const qe=e=>{let{pages:t,trackNext:n,trackBack:o,trackPlay:a,close:l}=e;const[s,i]=(0,r.useState)(0),[c,d]=(0,r.useState)(),u=t.length;(0,r.useEffect)((()=>{const e=document.getElementsByClassName(Ve)[0];if(e&&e.scrollWidth!==c){d(e.scrollWidth);const t=()=>{e.removeEventListener("scroll",(()=>{Xe(c,e,i)}));const t=e.scrollWidth;e.addEventListener("scroll",(()=>{Xe(t,e,i)}))};t(),window.addEventListener("resize",t)}}),[s,t]);const m=0===s?{opacity:.4,pointerEvents:"none"}:void 0,h=s===u-1?{background:"var(--bg-btn-emphasis)",color:"var(--text-alternate)"}:{};return r.createElement("div",{className:"carousel-module_wrapper__ZdPMF"},r.createElement("div",{className:Ve},(()=>{const e=[];for(let n=0;n<u;n+=1)e.push(r.createElement("div",{className:"carousel-module_page__hxlvR",key:n},t[n]));return e})()),r.createElement("div",{className:"carousel-module_dotsWrapper__wRsnc"},(()=>{const e=[];for(let t=0;t<u;t+=1)e.push(r.createElement("span",{className:t===s?"carousel-module_currentDot__hbt8i":"carousel-module_dot__nqlOO",key:t}));return e})()),r.createElement("div",{className:"carousel-module_buttonsWrapper__sEp8T"},r.createElement("button",{style:m,onClick:()=>{const e=document.getElementsByClassName(Ve)[0],t=e.scrollWidth/u;s>0&&e.scrollTo({left:e.scrollLeft-t}),o&&o(s)},type:"button","data-testid":"modal-help__back"},"Back"),r.createElement("button",{style:h,onClick:()=>{const e=document.getElementsByClassName(Ve)[0],t=e.scrollWidth/u;s<u-1?(e.scrollTo({left:e.scrollLeft+t}),n&&n(s)):s===u-1&&(l(),a&&a())},type:"button","data-testid":s===u-1?"modal-help__play":"modal-help__next"},s===u-1?"Play":"Next")))};var Qe="Help-module_darkBlueText__oDrYL",Ke="Help-module_pageWrapper__N1JUD";const $e=()=>r.createElement("article",{className:Ke},r.createElement("img",{src:"https://www.nytimes.com/games-assets/images/strands/FirstGIFH2Pv3.gif",className:s()("darkPage1Gif","Help-module_page1Gif__Fm17K"),alt:"Gif showing two ways to create words. A cursor creates words on a 4-by-4 board of letters to fill the board with color. First, the cursor draws a line to create the word BANANA, which turns blue. Then the cursor taps each letter of APPLE, which turn blue once the final E of APPLE is tapped a second time. Finally, the cursor drags across the letters of FRUIT, which turn yellow."}),r.createElement("h2",null,"Find theme words to fill the board."),r.createElement("ul",null,r.createElement("li",null,"Theme words stay highlighted in blue when found."),r.createElement("li",null,"Drag or tap letters to create words. If tapping, double tap the last letter to submit."),r.createElement("li",null,"Theme words fill the board entirely. No theme words overlap."))),et=()=>r.createElement("article",{className:Ke},r.createElement("img",{src:"https://www.nytimes.com/games-assets/images/strands/H2P_StaticImageV3.png",className:s()("darkPage2Gif","Help-module_page2Gif__lqR5N"),alt:"4-by-4 filled board. The theme words BANANA and APPLE are blue, and the spangram describing the puzzle's theme, FRUIT, is yellow. "}),r.createElement("h2",null,"Find the â€œspangram.â€"),r.createElement("ul",null,r.createElement("li",null,"The spangram describes the puzzleâ€™s theme and touches two opposite sides of the board. It may be two words."),r.createElement("li",null,"The spangram highlights in yellow when found."),r.createElement("li",null,"An example spangram with corresponding theme words:"," ",r.createElement("span",{className:Qe},"PEAR"),","," ",r.createElement("span",{className:"Help-module_darkYellowText__n6l8R"},"FRUIT"),","," ",r.createElement("span",{className:Qe},"BANANA"),","," ",r.createElement("span",{className:Qe},"APPLE"),", etc."," "))),tt=()=>r.createElement("article",{className:Ke},r.createElement("img",{src:"https://www.nytimes.com/games-assets/images/strands/ThirdGIFH2Pv3.gif",className:s()("darkPage3Gif","Help-module_page3Gif__bDqIr"),alt:"Gif illustrating earning and using a hint on a 4-by-4 board. APPLE is already highlighted in blue on the board. The player creates BAIT, which is not a theme word. The grey bubbles from BAIT float down to the hint button, and the hint button becomes active. The player taps the hint button, and each letter of BANANA gains a dashed blue border. The player connects those letters in order to complete the word BANANA."}),r.createElement("h2",null,"Need a hint? "),r.createElement("ul",null,r.createElement("li",null,"Find non-theme words to get hints."),r.createElement("li",null,"For every 3 non-theme words you find, you earn a hint."),r.createElement("li",null,"Hints show the letters of a theme word. If there is already an active hint on the board, a hint will show that wordâ€™s letter order.")));var nt={hintBlocker:"Hints-module_hintBlocker__BfEAO",confirmButton:"Hints-module_confirmButton__PyF6x",hints:"Hints-module_hints__Y25AP"},rt=n(98697);const ot=e=>{let{checked:t}=e;return t?r.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{className:"radio-bg",d:"M9.99988 19.1199C15.0367 19.1199 19.1199 15.0367 19.1199 9.99988C19.1199 4.96305 15.0367 0.879883 9.99988 0.879883C4.96305 0.879883 0.879883 4.96305 0.879883 9.99988C0.879883 15.0367 4.96305 19.1199 9.99988 19.1199Z",fill:"#121212",transform:"scale(0.8) translate(2.25, 2.25)"}),r.createElement("path",{className:"radio-bg",d:"M10 1.75C14.55 1.75 18.25 5.45 18.25 10C18.25 14.55 14.55 18.25 10 18.25C5.45 18.25 1.75 14.55 1.75 10C1.75 5.45 5.45 1.75 10 1.75ZM10 0C4.48 0 0 4.48 0 10C0 15.52 4.48 20 10 20C15.52 20 20 15.52 20 10C20 4.48 15.52 0 10 0Z",fill:"#121212"})):r.createElement("svg",{width:"20",height:"21",viewBox:"0 0 20 21",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("circle",{className:"radio-circle",cx:"10.25",cy:"10.2832",r:"9.25",stroke:"#979797"}))};var at=e=>{let{id:t,value:n,checked:o,onChange:a}=e;return r.createElement(r.Fragment,null,r.createElement("label",{htmlFor:t},r.createElement("input",{type:"radio",id:t,name:"mode-setting",value:n,checked:o,onChange:a}),r.createElement(ot,{checked:o})))},lt=n(85775),st="Settings-module_description__FJ4VU",it="Settings-module_term__a4roH",ct="Settings-module_detail__mvmNk",dt="Settings-module_settingsSelection__c4Pim",ut="Settings-module_setting__wibrv",mt=n(85171),ht=e=>{let{text:t,onRemove:n,durationVisible:o=3e3}=e;const[a,l]=(0,r.useState)(!1),[i,c]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{l(!0)}),[]),(0,mt.Z)((()=>c(!0)),o===1/0?null:o),r.createElement("div",{className:"Toast-module_toastContainer__CgMC2"},r.createElement("div",{className:"Toast-module_toaster__HJPhs"},r.createElement("div",{className:s()("Toast-module_toast__q1i0d",{"Toast-module_fadeIn__R1bI9":a,"Toast-module_fadeOut__TEHmR":i}),"aria-live":"polite",onTransitionEnd:()=>{n&&i&&n()}},r.createElement("h2",null,t))))};const pt={[F.Os.COPY_SUCCESS]:e=>{let{onRemove:t}=e;return r.createElement(ht,{text:"Copied results to clipboard",onRemove:t,durationVisible:6e3})},[F.Os.COPY_FAIL]:e=>{let{onRemove:t}=e;return r.createElement(ht,{text:"Share failed",onRemove:t,durationVisible:6e3})}};var ft=n(71556),gt="ShortzControls-module_shortzButton__dUBAC",Et=()=>{const e=(0,ft.d)(),t=(0,P.kd)(),{puzzle:n}=(0,P.zV)(),o=(0,P.NX)(),{solved:a,wordsFound:l}=t;return e&&window.location.pathname.includes("/puzzles/shortz")?r.createElement("div",{className:"ShortzControls-module_shortzContainer__YSu_b"},r.createElement(Ue.Z,{className:gt,disabled:a||0!==l.length,onClick:()=>{o({type:D.U.COMPLETE_PUZZLE,themeWordCoords:n.themeCoords})},"data-testid":"complete-button",text:"Complete",type:"secondary"}),r.createElement(Ue.Z,{className:gt,disabled:0===l.length,onClick:()=>{o({type:D.U.RESET_PUZZLE})},"data-testid":"reset-button",text:"Reset",type:"secondary"})):null},bt=n(36629),yt=n(69202),_t="Error-module_errorContent__UpF2h",vt="Error-module_errorTitle__VUfbh",wt="Error-module_errorSubtitle___5RBq",Nt="Error-module_errorText__lP7R1";const Ot=e=>{let{errorType:t}=e;const n="offline"===t&&"Error-module_offlineErrorIcon__dEsON";return r.createElement("span",{role:"img","aria-hidden":!0,className:n||"Error-module_defaultErrorIcon__wYpd1"})},Tt=()=>r.createElement("div",{className:_t},r.createElement("h1",{className:vt},"Oh no!"),r.createElement("h2",{className:wt},"Youâ€™re offline."),r.createElement("p",{className:Nt},"Find a connection and come back.")),St=()=>r.createElement("div",{className:_t},r.createElement("h1",{className:vt,"data-testid":"error-header"},"Oops!"),r.createElement("h2",{className:wt},"Something went wrong."),r.createElement("p",{className:Nt},"Please try again later.")),Ct=()=>r.createElement("div",{className:_t},r.createElement("h1",{className:vt},"Oops!"),r.createElement("h2",{className:wt},"We're missing data for this puzzle."),r.createElement("p",{className:Nt},"Please test after the data has been added.")),Pt=()=>r.createElement("div",{className:_t},r.createElement("h1",{className:vt},"Oops!"),r.createElement("h2",{className:wt},"Date precedes the launch date of"," ",(0,bt.Z)(A.hd,"MMM d, yyyy"),"."),r.createElement("p",{className:Nt},"Please test a later puzzle."));function zt(e){let{errorType:t,showBackButton:n=!1}=e;const o=n||document.referrer.includes("nytimes");if(!t)return null;const a={offline:{icon:r.createElement(Ot,{errorType:"offline"}),content:r.createElement(Tt,null)},default:{icon:r.createElement(Ot,null),content:r.createElement(St,null)},missingData:{icon:r.createElement(Ot,null),content:r.createElement(Ct,null)},precedesLaunch:{icon:r.createElement(Ot,null),content:r.createElement(Pt,null)}},{icon:l,content:s}=a[t]||a.default;return r.createElement("div",{className:"Error-module_container__SWosE",role:"dialog"},r.createElement("div",{className:"Error-module_errorContainer__OY7Ll"},l,s,o&&r.createElement("button",{className:"Error-module_backButton__RLeNX",type:"button","data-testid":"back",onClick:()=>{(0,yt.n)()}},"Back")))}const kt={[_.CONGRATS]:e=>{let{puzzle:t,close:n,isClosing:o,onRemove:l}=e;const i=(0,P.kd)(),c=(0,a.I0)(),{shareHistory:d,hintUsed:u}=i,{clue:m,id:h}=t,p=new v.c(h),f=/shortz/.test(window.location.href),g=function(e){const t=(new Date).setHours(0,0,0,0)-e.setHours(0,0,0,0);let n=Math.round(t/864e5);return n<0&&(n=Math.abs(n)),n}(A.hd)+1,E=f?h:g,b=["Perfect","Great","Well Done"],y=b.length,_=u<y?b[u]:b[y-1];return r.createElement(Ae.Z,{overlayClassName:s()("strands__congrats-modal--overlay"),bodyClassName:s()("strands__modal","modal-rules-body","fullscreen-congrats","strands-congrats-modal"),close:()=>n(),isClosing:o,onRemove:l,closeLabel:"Back to puzzle"},r.createElement("div",{className:s()(Fe.congratsContent,Fe.fullscreenContent),"data-testid":"strands-congrats"},r.createElement("h1",{className:s()(Fe.modalTitle,Fe.fullscreenModalTitle),"data-testid":"strands-modal__title"},_,"!"),r.createElement("h2",{className:Fe.fullscreenModalDescription},"Strands #",E,r.createElement("br",null),"â€œ",m,"â€"),r.createElement("div",{className:Fe.circleWrapper},d.map(((e,t)=>r.createElement(Ye,{type:e,key:"".concat(e,"-").concat(t)})))),r.createElement("p",{className:Fe.shareDescriptor},"Nice job finding the theme words ðŸ”µ ",r.createElement("br",null),"Â and Spangram ðŸŸ¡. You used ",r.createElement("b",null,u)," hint",1!==u&&"s"," ðŸ’¡."),r.createElement("div",null,r.createElement("h3",null,"NEXT PUZZLE IN"),r.createElement(We,{id:h})),r.createElement("div",{className:s()(Fe.buttonsContainer,Fe.fullscreenButtons)},r.createElement(Me,{shareMessage:"Strands #".concat(E,"\nâ€œ").concat(m,"â€\n").concat(function(e){return 0===e.length?"":e.map((e=>xe[e])).reduce(((e,t,n)=>n%4==0?"".concat(e,"\n").concat(t):e+t))}(d)),tracker:()=>p.sharePuzzle(),onCopy:()=>{c((0,F.eS)(F.Os.COPY_SUCCESS))},onFail:()=>{c((0,F.eS)(F.Os.COPY_FAIL))},dataTestId:"strands-congrats__share"}),r.createElement(je.Z,{nextGame:"spelling-bee",url:(0,Le.Z)("/puzzles/spelling-bee"),fromGame:"strands"}))))},[_.HELP]:e=>{let{close:t,isClosing:n,onRemove:o,puzzle:a}=e;const l=new v.c(a.id);return r.createElement(Ae.Z,{overlayClassName:s()("strands__modal--overlay"),bodyClassName:s()("strands__modal","modal-rules-body","help"),close:()=>{l.closeHelp(),t()},isClosing:n,onRemove:o},r.createElement("div",{className:"Help-module_wrapper__m6bAF","data-testid":"strands-help"},r.createElement("h1",{className:"Help-module_title___5yTv"},"How to Play"),r.createElement(qe,{pages:[r.createElement($e,{key:0}),r.createElement(et,{key:1}),r.createElement(tt,{key:2})],trackNext:e=>l.nextHelp(e),trackBack:e=>l.back(e),trackPlay:()=>l.playHelp(),close:t})))},[_.SETTINGS]:e=>{let{close:t,isClosing:n,onRemove:o,puzzle:a}=e;const l=!window.isHybridWebView||(0,Z.Cb)(window.gamesAppVersion,"4.53"),i=(0,d.Z)(),{mode:c,hasSetting:u,deleteSetting:m,setMode:h}=(0,rt.Z)(),[p,f]=(0,r.useState)(u("mode")),g=e=>{"auto"===e.target.value?(m("mode"),f(!1)):"dark"===e.target.value?(h("dark"),f(!0)):"light"===e.target.value&&(h("light"),f(!0))},E=new v.c(a.id),b=new Date("2024-03-04"),y=new Date(a.printDate),_=Math.abs(b.getTime()-y.getTime()),w=Math.ceil(_/864e5);return r.createElement(Ae.Z,{overlayClassName:s()("strands__modal--overlay"),bodyClassName:s()("strands__modal","modal-settings-body","settings"),close:t,isClosing:n,onRemove:o,dataTestId:"strands-settings"},r.createElement("div",{className:"Settings-module_dialog__KTF1R"},r.createElement("h2",{className:"Settings-module_dialogTitle__c5_YD"},"Settings"),i&&r.createElement("div",{className:"Settings-module_darkModeSettings__LivGl"},r.createElement("dl",null,r.createElement("div",{className:ut},r.createElement("label",{htmlFor:"auto"},r.createElement("h5",null,"Automatic"),r.createElement("div",{className:dt},r.createElement("div",null,"Use your device setting to determine appearance."," ",r.createElement("br",null),"The app will change modes when your device"," ",r.createElement("br",null),"setting is changed."),r.createElement(at,{id:"auto",value:"auto",checked:!p,onChange:g})))),r.createElement("div",{className:ut},r.createElement("label",{htmlFor:"dark"},r.createElement("h5",null,"Dark Mode"),r.createElement("div",{className:dt},r.createElement("span",null,"Ignore your device setting and always render in"," ",r.createElement("br",null),"dark mode"),r.createElement(at,{id:"dark",value:"dark",checked:p&&"dark"===c,onChange:g})))),r.createElement("div",{className:ut},r.createElement("label",{htmlFor:"light"},r.createElement("h5",null,"Light Mode"),r.createElement("div",{className:dt},r.createElement("span",null,"Ignore your device setting and always render in"," ",r.createElement("br",null),"light mode"),r.createElement(at,{id:"light",value:"light",checked:p&&"light"===c,onChange:g})))))),r.createElement("dl",null,r.createElement("div",{className:st},r.createElement("dt",{className:it},"Feedback"),r.createElement("a",{href:"https://iter.ly/nh94m",target:"_blank",rel:"noreferrer",onClick:()=>{E.feedbackLink()},"data-testid":"strands-settings__feedback-link"},r.createElement("dd",{className:ct},"Survey"))),l&&r.createElement("div",{className:st},r.createElement("dt",{className:it},"Report a Bug"),r.createElement("dd",{className:ct},r.createElement(lt.Z,{subject:"Strands Bug Report",useEnhancedHybridDebugInfo:!0,type:Q.N1.CUSTOM,tracking:()=>{E.reportBug()},dataTestId:"strands-settings__report-bug"},"Email"))),r.createElement("div",{className:st},r.createElement("dt",{className:it},"Questions?"),r.createElement("a",{href:"https://help.nytimes.com/hc/en-us/articles/28214352967700-Strands",target:"_blank",rel:"noreferrer",onClick:()=>E.faq(),"data-testid":"strands-settings__faq"},r.createElement("dd",{className:ct},"FAQ")))),r.createElement("div",{className:"Settings-module_footNote__h9gt3"},r.createElement("p",{id:"copyright"},"The New York Times Company"),r.createElement("p",{"aria-label":"game number"},"#",w))))},[_.HINT_ONE]:e=>{let{close:t,isClosing:n,onRemove:o}=e;return r.createElement(Ae.Z,{overlayClassName:s()("strands__modal--overlay"),close:t,isClosing:n,onRemove:o,bodyClassName:s()("strands-hint-modal",nt.hints)},r.createElement("div",{className:nt.hintBlocker},r.createElement("h1",{className:nt.oneHintTitle},"Your hintâ€™s on the board."),r.createElement("p",null,"Use your current hint to create a word before getting a new hint."),r.createElement("button",{type:"button",className:nt.confirmButton,onClick:()=>t()},"Okay")))},[_.HINT_NEED]:e=>{let{close:t,isClosing:n,onRemove:o}=e;return r.createElement(Ae.Z,{overlayClassName:s()("strands__modal--overlay"),close:t,isClosing:n,onRemove:o,bodyClassName:s()("strands-hint-modal",nt.hints)},r.createElement("div",{className:nt.hintBlocker},r.createElement("h1",null,"Need a Hint?"),r.createElement("p",null,"Finding non-theme words earns you hints that will help you find the theme words."),r.createElement("button",{type:"button",className:nt.confirmButton,onClick:()=>t()},"Okay")))}};var Dt=()=>{const{puzzle:e,puzzleLoaded:t,firstTime:n,error:l}=(0,P.zV)(),[p,f]=(0,r.useState)(!1),{clue:g,id:E}=e,b=new v.c(E),w=(0,a.v9)(y.Q9),[T,S]=((0,d.Z)(),(0,r.useState)(!1)),[D,I]=(0,r.useState)(""),[A,H]=(0,r.useState)(),[U,M]=(0,r.useState)(!1),{updateUserType:j}=(0,i.aF)();(0,B.Z)(j);const W=(0,he.Y)({gameDataKey:he.I.STRANDS}),[G,Y]=(0,r.useState)(!1),{winWidth:V}=(0,h.Z)(),J=(0,a.I0)();(0,r.useEffect)((()=>{n&&f(!0)}),[n]),(0,r.useEffect)((()=>{const e=document.getElementById("js-nav-burger"),t=document.getElementById("js-global-nav"),n=()=>(0,re._)(e,t,!G,V);return null==e||e.addEventListener("click",n),()=>{null==e||e.removeEventListener("click",n)}}),[G,V]),(0,r.useEffect)((()=>{ue.load("loading")}),[]);const X=r.useRef(document.getElementById("portal-skip-nav"));return(0,r.useEffect)((()=>{t&&ue.transition("loading","welcome")}),[t]),(0,c.Z)((e=>{const t={};w?(J((0,y.Mr)(!0)),t[u.Q5]=!0):t[u.Q5]=!1,e.respondWith(t)}),[w]),(0,m.Z)({analyticsPuzzleID:E.toString(),puzzleID:E,game:"strands"}),r.createElement(r.Fragment,null,r.createElement(me,{today:W}),r.createElement(C,{portalId:"portal-toast-system",toastMap:pt,getOpenToastName:F.C3,isClosing:F.su,getIsClosing:F.su,onClose:F.yg,onRemove:F.RS}),r.createElement(de,{contentProps:{puzzleId:E,editor:null==e?void 0:e.editor,constructors:null==e?void 0:e.constructors,today:W,transitionToGame:()=>{ue.transition(ue.getCurrentMoment(),"game").then((()=>{p&&(J((0,y.h7)(_.HELP)),b.seeHelp("welcome"))})).then((()=>Y(!0))).catch((()=>{console.warn("AN ERROR OCCURRED IN THE MOMENT SYSTEM")}))},transitionToAd:()=>{ue.transition(ue.getCurrentMoment(),"ad").catch((()=>{console.warn("AN ERROR OCCURRED IN THE MOMENT SYSTEM")}))},firstTime:p}}),r.createElement(O.Z,{getOpenModalName:y.Q9,getIsClosing:y.j1,modalMap:kt,portalId:"portal-modal-system",onRemove:y.a_,puzzle:e,onClose:y.Mr}),t&&l&&r.createElement(zt,{showBackButton:!0,errorType:"default"}),!l&&t&&e&&r.createElement(r.Fragment,null,(()=>{if(X.current&&!(0,z._7)()&&!(0,Z.P_)()&&!(0,Z.$1)())return(0,o.createPortal)(r.createElement(x.Z,{associatedSectionId:"strands-container"}),X.current)})(),r.createElement(N,{hide:!G,puzzleId:E,isDisabled:U}),r.createElement("main",{className:s()("styles-module_wrapper__E7xQI",!!window.newsreaderAppPlatform&&"styles-module_wrapperNewsreader__qlW55")},r.createElement("div",{className:"styles-module_content__gbwzB","aria-hidden":w===_.CONGRATS||void 0},r.createElement(k,{clue:g}),r.createElement(R,{word:D,feedback:A}),r.createElement(Re,{word:D,setWord:I,setFeedback:H,setIsToolbarDisabled:M}),r.createElement(L,{hintFlag:T,setHintFlag:S}),r.createElement(Et,null)))))}},96543:function(e,t,n){n.d(t,{a:function(){return o}});var r=n(78462);function o(e,t,n,o){const a=!!e.find((e=>e.result===r.U.SPANGRAM)),l=t.filter((e=>n[e])).length===Object.keys(n).length,s=o.some((e=>e.hinted));return!a&&l&&s}},16323:function(e,t,n){function r(e){const t=[];if(!e)return t;let n=0;for(let r=0;r<e.length;r+=1)for(let o=0;o<e[r].length;o+=1){const a={id:n,row:r,col:o,char:e[r][o],themed:!1,spangramed:!1,hinted:!1,hintedOrder:-1,hintedSecondary:!1};t.push(a),n+=1}return t}n.d(t,{Pc:function(){return l},zW:function(){return s},hd:function(){return o},Jr:function(){return a}});const o=new Date("3/4/2024"),a="nyt-strands-beta",l=3,s=e=>({puzzleID:e?e.id:0,playedBefore:!0,layout:e?r(e.startingBoard):[],wordsFound:[],shareHistory:[],themeFoundPaths:[],hintPoints:0,hintCount:0,hintUsed:0,solved:void 0})},75026:function(e,t,n){n.d(t,{h:function(){return l}}),n(76359);var r=n(97281),o=n(66686),a=n(54943);const l=(0,r.configureStore)({reducer:{modals:o.ZP,toasts:a.ZP}})},66686:function(e,t,n){n.d(t,{Mr:function(){return a},Q9:function(){return s},a_:function(){return l},h7:function(){return o},j1:function(){return i}});const r=(0,n(97281).createSlice)({initialState:{name:null,isClosing:!1},name:"modals",reducers:{openModal:(e,t)=>{e.name=t.payload,e.isClosing=!1},closeModal:(e,t)=>{e.isClosing=!0,e.name=null},removeModal:e=>{e.name=null,e.isClosing=!1}}}),{openModal:o,closeModal:a,removeModal:l}=r.actions,s=e=>e.modals.name,i=e=>e.modals.isClosing;t.ZP=r.reducer},54943:function(e,t,n){n.d(t,{C3:function(){return s},Os:function(){return o},RS:function(){return u},eS:function(){return c},su:function(){return i},yg:function(){return d}});var r=n(97281);let o=function(e){return e.COPY_FAIL="copy-fail",e.COPY_SUCCESS="copy-success",e}({});const a={name:null,isClosing:!1},l=(0,r.createSlice)({name:"toasts",initialState:a,reducers:{openToast(e,t){e.name=t.payload,e.isClosing=!1},closeToast(e,t){e.name=null,e.isClosing=!0},removeToast(e){return a}}}),s=e=>e.toasts.name,i=e=>e.toasts.isClosing,{openToast:c,closeToast:d,removeToast:u}=l.actions;t.ZP=l.reducer},78462:function(e,t,n){n.d(t,{U:function(){return r}});let r=function(e){return e.THEME="THEME",e.NONTHEME="NONTHEME",e.SPANGRAM="SPANGRAM",e.RESET="reset",e.ERROR="error",e.HINT="hint",e.SECONDARY_HINT="secondary_hint",e.LOAD="load",e.NOT_A_WORD="NOT A WORD",e.TOO_SHORT="TOO SHORT",e.ALREADY_FOUND="ALREADY FOUND",e.TOO_LONG="TOO LONG",e.WORD_FOUND="WORD",e.SET_SOLVED="SET_SOLVED",e.RESET_PUZZLE="RESET_PUZZLE",e.COMPLETE_PUZZLE="COMPLETE_PUZZLE",e}({})},65489:function(e,t,n){n.d(t,{$g:function(){return c.$g},Be:function(){return _.B},LW:function(){return c.LW},Mk:function(){return s.Mk},N1:function(){return h.N},OB:function(){return o.OB},T0:function(){return o.T0},Tv:function(){return m.Tv},abra:function(){return p.Fi},ec:function(){return s.ec},hX:function(){return c.hX},iU:function(){return o.iU},j:function(){return c.j},j0:function(){return o.j0},kh:function(){return o.kh},ob:function(){return c.ob},wC:function(){return l.wC},xD:function(){return s.xD}});var r=n(74395),o=n(22042),a=n(96303),l=n(31069),s=n(73649),i=n(67719),c=n(41586),d=n(48198),u=n(33104),m=n(89936),h=n(27489),p=n(42714),f=n(6756),g=n(49808),E=n(72811),b=n(73972),y=n(53212),_=n(93251);if((0,h.Z)(),(0,c.U9)(),(0,m.ZP)(d.win.sentryConfig),(0,E.Z)(d.win.datadogRumConfig),(0,r.Z)(),p.Fi.init(),d.win.isHybridWebView||"wordle"===d.win.pageName||i.U.initialize(),"connections"===d.win.pageName&&"prod"!==d.win.env.name&&(0,y.Z)(),(0,s.t6)(),(0,i.q)(),o.G7)d.win.dataLayer=[];else{const e=(0,a.pg)();if(!e){const e="DFP_Prebid_0624",t=p.Fi.getVariant(e);t&&p.Fi.reportExposure(e),(0,a.He)(),(0,a.I5)(t),(0,f.Z)((0,a.Qx)()),(0,b.YU)()}d.win.addEventListener("load",(()=>{(0,l.IX)(),(0,u.Z)(),e||(0,a.YY)((0,g.Z)(d.win),p.Fi.getTests()),(0,c.Sv)()}))}}}]);
//# sourceMappingURL=67.1bd39ed3a9a94ee58407.js.map