!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="3dea2db3-82fc-4d19-9548-a2921b633f85",e._sentryDebugIdIdentifier="sentry-dbid-3dea2db3-82fc-4d19-9548-a2921b633f85")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"90199bea12d0307073a61899b1597cc5c29360f3"},(self.webpackChunk_xwords_phoenix=self.webpackChunk_xwords_phoenix||[]).push([[2689],{69195:function(e,t,n){n.d(t,{Dx:function(){return v},Ej:function(){return S},FG:function(){return k},JO:function(){return g},ML:function(){return C},Sx:function(){return _},WL:function(){return f},XU:function(){return h},dk:function(){return b},hE:function(){return w},h_:function(){return y},im:function(){return O}});var o=n(89526),r=n(64403),a=n.n(r),s=n(2652),l=n.n(s),i=n(65489),c=n(40245),u=n(9861),d=n(4663),m=n(11632);function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},p.apply(this,arguments)}const _=e=>{let{trackData:t}=e;return window.isHybridWebView&&window.NativeBridge?"ios"===window.newsreaderAppPlatform?null:o.createElement(d.Z,{onClick:()=>{if(t){const{elementName:e,context:n,moduleLabel:o}=t,r="back";(0,i.$g)("click",n,e,r,o)}window.NativeBridge.gamesBackToHub()}}):null};_.propTypes={trackData:l().shape({context:l().string,elementName:l().string.isRequired,moduleLabel:l().string.isRequired})},l().func;const f=e=>{let{closeText:t,action:n,className:r}=e;return o.createElement("button",{type:"button",className:a()("pz-moment__close_text",r),onClick:n},o.createElement("span",{className:"inner-text"},t),o.createElement(u.Z,{icon:"close"}))};f.propTypes={closeText:l().string.isRequired,action:l().func,className:l().string};const g=e=>{let{icon:t,size:n="large"}=e;return o.createElement("div",{className:a()("pz-moment__icon",n,t),"data-testid":"moment-icon"})};g.propTypes={icon:l().oneOf(["connections","connections-progress-0","connections-progress-1","connections-progress-2","connections-progress-3","connections-progress-won","connections-progress-loss","letter-boxed","spelling-bee","spelling-bee-birthday","spelling-bee-gold-star","spelling-bee-loved","spelling-bee-ny-2024","spelling-bee-ny-2025","spelling-bee-ny-2026","spelling-bee-ny-2027","spelling-bee-ny-2028","spelling-bee-ny-2029","spelling-bee-ny-2030","spelling-bee-queen","spelling-bee-smarty","spelling-bee-spooky","spelling-bee-valentines","strands","sudoku","tiles","vertex"]),size:l().oneOf(["small","medium","large"])};const v=e=>{let{text:t,size:n="large",font:r="karnak",level:s="1"}=e;const l="h".concat(s),i=a()("pz-moment__title",n,r);return o.createElement(l,{className:i},t)};v.propTypes={text:l().string,size:l().oneOf(["extra-small","small","medium","med-large","large"]),level:l().oneOf(["1","2","3","4"]),font:l().oneOf(["karnak","franklin"])};const b=e=>{let{text:t,variant:n="default",font:r="karnak",level:s="1"}=e;const l="h".concat(s),i=a()("pz-moment__description",n,r);return o.createElement(l,{className:i,dangerouslySetInnerHTML:{__html:t}})};b.propTypes={text:l().string,variant:l().oneOf(["default","small","extra-small"]),font:l().oneOf(["karnak","franklin"]),level:l().oneOf(["1","2","3","4"])};const y=e=>{let{text:t}=e;return o.createElement("span",{className:"pz-moment__meta"},t)};y.propTypes={text:l().oneOfType([l().string,l().node])},l().node;const h=e=>{let{children:t}=e;return o.createElement("span",{className:"pz-moment__info-text "},t)};h.propTypes={children:l().node};const E=e=>{let{text:t,dataTestId:n,action:r,icon:s="none",color:l="primary",variant:i="default",isEmphasizedNew:u=!1,className:d=[],isLink:m=!1,url:p=""}=e;const _=a()("pz-moment__button",l,i,...[].concat(d||""));return m?o.createElement("a",{className:_,href:p,onClick:r},u&&o.createElement(c.Z,{text:"new",position:"top-right-outside"}),"checked"===s&&o.createElement("div",{className:"pz-moment__button--checked"}),"locked"===s&&o.createElement("div",{className:"pz-moment__button--padlock"}),t):o.createElement("button",{"data-testid":n,type:"button",className:_,onClick:r},u&&o.createElement(c.Z,{text:"new",position:"top-right-outside"}),"checked"===s&&o.createElement("div",{className:"pz-moment__button--checked"}),"locked"===s&&o.createElement("div",{className:"pz-moment__button--padlock"}),t)};E.propTypes={color:l().oneOf(["primary","secondary","transparent","constant"]),variant:l().oneOf(["default","wide","disabled","extra-wide","extra-extra-wide","link"]),icon:l().oneOf(["none","locked","checked"]),isEmphasizedNew:l().bool,action:l().func,text:l().string,dataTestId:l().string,className:l().arrayOf(l().string),isLink:l().bool,url:l().string};const w=e=>{let{buttons:t,header:n=null,order:r="default"}=e;return o.createElement("div",{className:"pz-moment__button-group"},n&&o.createElement("div",{className:"header"},o.createElement("h3",null,n)),o.createElement("div",{className:a()("pz-moment__button-wrapper",{[r]:r})},(t||[]).map(((e,t)=>o.createElement(E,p({},e,{key:"button-group-".concat(t)}))))))};w.propTypes={buttons:l().arrayOf(l().shape({text:l().string,action:l().func})),header:l().oneOfType([l().node,l().string]),order:l().oneOf(["default","vertical"])};const S=e=>{let{date:t}=e;return o.createElement("span",{"data-testid":"pz-moment__date",className:"pz-moment__info-date"},t)};S.propTypes={date:l().string};const C=e=>{let{editor:t}=e;return t?o.createElement("span",{"data-testid":"pz-moment__editor",className:"pz-moment__info-editor"},"Edited by ".concat(t)):null};C.propTypes={editor:l().string};const O=e=>{let{bgColor:t="$gray3",children:n}=e;return o.createElement("div",{className:"pz-moment",style:{backgroundColor:m.Z[t]},"data-testid":"moment-wrapper"},n)};O.propTypes={bgColor:l().oneOf(Object.keys(m.Z)),children:l().oneOfType([l().arrayOf(l().node),l().element,l().func])};const k=e=>{let{promo:t}=e;return"oxford"===t&&o.createElement("p",null,o.createElement("a",{href:"https://www.oxforddictionaries.com",target:"_blank",rel:"noopener noreferrer",className:"pz-moment__promo"}))};k.propTypes={promo:l().string}},25948:function(e,t,n){n.d(t,{Z:function(){return Fe},S:function(){return Ue}});var o=n(77327),r=n(64403),a=n.n(r),s=n(89526),l=n(76359),i=n(57256),c=n(14237),u=n(155),d=n(17165),m=n(30674),p=n(6697),_=n(74078),f=n(95982),g=n(72059),v=n(12547),b=n(30829),y=n(6249),h={botLink:"BotLinkCTA-module_botLink__QjG6_",borderTop:"BotLinkCTA-module_borderTop__wvkVO",borderBottom:"BotLinkCTA-module_borderBottom__8BcQ3",bordered:"BotLinkCTA-module_bordered__Hlfnq",botIcon:"BotLinkCTA-module_botIcon__yzXNQ","botIcon--wordlebot":"BotLinkCTA-module_botIcon--wordlebot__qPvxB","botIcon--connectionsbot":"BotLinkCTA-module_botIcon--connectionsbot__BuUx6",largeIcon:"BotLinkCTA-module_largeIcon___OmVf",botLinkContent:"BotLinkCTA-module_botLinkContent__fwOuS",botLinkHref:"BotLinkCTA-module_botLinkHref__hUzmT",botLinkHref__gamesApp:"BotLinkCTA-module_botLinkHref__gamesApp__yB_17",archive:"BotLinkCTA-module_archive__OOzlg",mobileOnly:"BotLinkCTA-module_mobileOnly__qBzlN"},E=e=>{let{botName:t,botLinkHref:n,primaryText:o,supportingText:r,ariaLabel:l,borderPlacement:i,isArchive:c=!1,handleBotClick:u}=e;const d=!!window.gamesAppPlatform;return s.createElement("a",{href:n,"data-testid":"bot-link-cta",className:a()(h.botLink,{[h.borderTop]:"top"===i,[h.borderBottom]:"bottom"===i,[h.bordered]:"both"===i}),onClick:()=>{u&&u()}},s.createElement("div",{className:a()(h.botIcon,h["botIcon--".concat(t)],{[h.largeIcon]:c}),"aria-label":l,role:"img"}),s.createElement("div",{className:a()(h.botLinkContent,{[h.archive]:c})},s.createElement("p",null,o,s.createElement("br",null),s.createElement("span",{className:a()(h.botLinkHref,d?h.botLinkHref__gamesApp:"")},r))))},w=n(69195),S=n(73851),C=n(75539),O=JSON.parse('{"t":[{"uniqueId":"perfect_puzzles-mil-cxs","displayName":"Perfect puzzles","games":["connections"],"type":"milestone","description":"Solved {LEVEL} Connections without mistakes","imageUrl":"/assets/badges/connections-badge-alpha.svg"},{"uniqueId":"purple_first-pro-cxs","displayName":"Purple first","games":["connections"],"type":"progress","description":"Solved the purple category first and won the puzzle","imageUrl":"/assets/badges/connections-badge-alpha.svg"},{"uniqueId":"100_connections-cha-cxs","displayName":"100 Connections","games":["connections"],"type":"challenge","description":"Completed 100 Connections puzzles, including wins and losses","imageUrl":"/assets/badges/connections-badge-alpha.svg"},{"uniqueId":"10_day_streak-str-cxs","displayName":"10-day Streak","games":["connections"],"type":"streak","description":"Solved 10 daily Connections in a row","imageUrl":"/assets/badges/connections-badge-alpha.svg"},{"uniqueId":"30_day_streak-str-cxs","displayName":"30-day Streak","games":["connections"],"type":"streak","description":"Solved 30 daily Connections in a row","imageUrl":"/assets/badges/connections-badge-alpha.svg"},{"uniqueId":"100_day_streak-str-cxs","displayName":"100-day Streak","games":["connections"],"type":"streak","description":"Solved 100 daily Connections in a row","imageUrl":"/assets/badges/connections-badge-alpha.svg"},{"uniqueId":"365_day_streak-str-cxs","displayName":"365-day Streak","games":["connections"],"type":"streak","description":"Solved a year of daily Connections in a row","imageUrl":"/assets/badges/connections-badge-alpha.svg"}]}'),k=n(65489),T={flexContainer:"PillGrey-module_flexContainer__ODUKN",expandToRow:"PillGrey-module_expandToRow__aTomr PillGrey-module_flexContainer__ODUKN",mobileColumn:"PillGrey-module_mobileColumn__YpIYL","visually-hidden":"PillGrey-module_visually-hidden__Hz7ml",pill:"PillGrey-module_pill__fJN18",default:"PillGrey-module_default__YL9K9","top-right-edge":"PillGrey-module_top-right-edge__LLm7D","top-right-edge-inner":"PillGrey-module_top-right-edge-inner__xGxjg",slideDown:"PillGrey-module_slideDown__wH1hZ",flyIn:"PillGrey-module_flyIn__MdsDx",flyOut:"PillGrey-module_flyOut__LQtPF",fadeIn:"PillGrey-module_fadeIn___mLnx"},P=e=>{let{text:t="New",position:n="default",className:o=""}=e;return s.createElement("span",{className:a()(T.pill,T[n],o)},t)};const N=e=>{let{badgeDef:t,badgeData:n,triggerPopIn:o}=e;const r="progress"===t.type,{progress:l}=n,i=r&&l&&l>1?"earned again":"earned";return s.createElement("div",{className:"BadgeCarouselItem-module_badge__vkBLy"},s.createElement("div",{className:a()("BadgeCarouselItem-module_imageContainer__cs2La",{"BadgeCarouselItem-module_pop__peb5v":o})},s.createElement("img",{src:"".concat(k.OB.assets).concat(t.imageUrl),alt:"badge"}),r&&s.createElement("span",{className:"BadgeCarouselItem-module_progressPill__mVitA"},"x",l)),s.createElement("div",{className:"BadgeCarouselItem-module_displayName__c2Ci6"},t.displayName),s.createElement(P,{text:i}))},A=e=>{let{triggerPopIn:t,earnedBadges:n}=e;return 0===n.length?null:s.createElement("div",{className:a()("BadgeCarousel-module_carousel__vjYyJ",{"BadgeCarousel-module_center__JcKkp":1===n.length})},n.map((e=>{const n=O.t.find((t=>t.uniqueId===e.uniqueId));return s.createElement(N,{key:e.uniqueId,badgeDef:n,badgeData:e,triggerPopIn:t})})))};var I=n(51722),L=n(81353),j=n(82786),D=n(73917),x="Congrats-module_button__HW5bZ";const z=()=>{const e=(0,l.v9)(g.K4);return s.createElement("dl",{"data-testid":"conn-congrats__share",className:"Congrats-module_shareBlocksContainer__l5TZ0","aria-label":"".concat(I.nA," by ").concat(e.length," grid of color block emojis representing your guesses")},e.map(((e,t)=>{const n=e.every((t=>t===e[0]))?"correct":"incorrect",o="".concat(n,". ").concat("correct"===n?"Found level ".concat(e[0]+1,"."):"Guessed items from levels ".concat(e.join(", ")));return s.createElement("div",{key:"attempt-".concat(t),className:"Congrats-module_shareRow__iOpoQ"},s.createElement("dd",{"aria-label":"attempt #".concat(t+1)}),s.createElement("dt",{"aria-label":o},e.map(((e,n)=>s.createElement("span",{className:"Congrats-module_shareBlock__c4G_C","data-level":e,"aria-hidden":"true",key:"item".concat(n,"-level").concat(e),"data-testid":"guess-square-attempt".concat(t,"-item").concat(n,"-level").concat(e)})))))})))},M=e=>{let{buttonType:t="primary"}=e;const n=(0,l.I0)(),{trackConnectionsClick:o}=(0,f.Z)(),r=(0,l.v9)(g.cG);return s.createElement(p.Z,{className:x,text:"Share your results",onClick:e=>{e.preventDefault(),e.stopPropagation(),o("share",null,"congrats"),(0,L.BN)({text:r},(()=>{n((0,j.eS)(D.n.COPY_RESULTS))}),(()=>{n((0,j.eS)(D.n.SHARE_FAIL))}),e)},type:t})},R=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"bottom",n=arguments.length>2?arguments[2]:void 0;const o=(e=>{switch(e){case"1_copy_A":return{primaryText:"How tough was today's puzzle?",supportingText:"Find out with Connections Bot ›"};case"1_copy_B":return{primaryText:"How unique were you today?",supportingText:"Find out with Connections Bot ›"};case"1_copy_C":return{primaryText:"Where did everyone else get stuck today?",supportingText:"Find out with Connections Bot ›"};case"1_copy_D":return{primaryText:"Connections Bot analyzes your game.",supportingText:"How did you stack up against other players? ›"};case"1_copy_E":return{primaryText:"Looking to improve your game?",supportingText:"Get a personalized analysis from Connections Bot ›"}}})(e);if(null!=o&&o.primaryText&&null!=o&&o.supportingText){const e={botName:"connectionsbot",botLinkHref:"https://www.nytimes.com/interactive/2024/upshot/connections-bot.html",primaryText:o.primaryText,supportingText:o.supportingText,isArchive:!1,ariaLabel:"Connections Bot",borderPlacement:t,handleBotClick:()=>n()};return s.createElement(E,e)}};var G=n(3254),B=n(43972),Z=n(22777),F=n(48198);let U;F.win.googletag=F.win.googletag||{cmd:[]};const{googletag:H}=F.win;var X=n(69802);const W="EXPOSURE_REPORTER_STANDARD",V="EXPOSURE_REPORTER_HYBRID";var Y=e=>{let{testName:t,variantName:n,shouldReport:o=!1,reporterType:r=W}=e;const{reportHybridExposure:a,reportExposure:s,getVariant:l}=k.abra,i=l(t);if(!i)return!1;let c;switch(r){case W:c=s;break;case V:c=a}return o&&i&&c&&c(t),!!n&&i===n},q=e=>{let{entitlement:t,hasXwd:n,isGameFinished:o}=e;return!(t.includes("cr")||n)&&!o&&((0,Z.Z)()||!(0,X._7)()&&(r=["phone"],!!((0,X.Xj)()&&null!==(a=window.config)&&void 0!==a&&null!==(a=a.AdRequirements)&&void 0!==a&&a.plat&&r.includes(window.config.AdRequirements.plat)))&&(Y({testName:"DFP_ConnectionsGamesApp_AA",reporterType:V,shouldReport:!0}),Y({testName:"DFP_ConnectionsGamesApp",variantName:"1_Variant",reporterType:V,shouldReport:!0})));var r,a};const Q="DFP_GamingInterstitialConnections",J="DFP_GamingInterstitialConnections_AA";F.win.googletag=F.win.googletag||{cmd:[]};const{googletag:K}=F.win;var $=n(72834);const ee=["hasLoaded","today"];function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){var o,r,a,s;o=e,r=t,a=n[t],(r="symbol"==typeof(s=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r))?s:s+"")in o?Object.defineProperty(o,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[r]=a})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const oe={transitionTo:"welcome",isActive:!0};var re=n(85203),ae=n(3097),se=n(35451),le=n(18540),ie=n(29415),ce=n(44291),ue=n(2652),de=n.n(ue);function me(){return me=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},me.apply(this,arguments)}const pe=e=>{let{game:t}=e;return s.createElement(w.im,{bgColor:t.bgColor},s.createElement("div",{className:"pz-moment__container alternate"},s.createElement(w.Sx,{trackData:t.game?{elementName:t.game,moduleLabel:"welcome"}:void 0}),s.createElement("div",{className:"pz-moment__content sequence-animation"},s.createElement(w.JO,{icon:t.icon,size:"medium"}),s.createElement(w.Dx,{text:t.title,level:"2",size:"large"}),s.createElement(w.dk,me({},t.description,{level:"3"})),s.createElement(w.h_,{text:t.meta}),(t.buttonGroups||[]).map(((e,t)=>{let{buttons:n,header:o,desktopButtonOrder:r}=e;return s.createElement(w.hE,{key:t,buttons:n,header:o,order:r})})),s.createElement("p",{className:"pz-moment__info"},s.createElement("span",{className:"visually-hidden"},"Game information"),s.createElement(w.Ej,{date:t.date}),s.createElement(w.ML,{editor:t.editor}),t.infoText&&s.createElement(w.XU,null,t.infoText)),s.createElement(w.FG,{promo:t.promo}))))};pe.propTypes={game:de().shape({game:de().string,icon:de().string,title:de().string,description:de().shape({text:de().string}),buttonGroups:de().arrayOf(de().shape({buttons:de().arrayOf(de().shape({text:de().string,action:de().func,dataTestId:de().string||void 0})),header:de().oneOfType([de().node,de().string]),desktopButtonOrder:de().string||null})),date:de().string,editor:de().string,infoText:de().oneOfType([de().string,de().node]),bgColor:de().string,promo:de().string,meta:de().string})};var _e,fe=pe,ge=n(54988),ve=n(86128);const be=(ye={prod:"https://www.nytimes.com/subscription/games-offer?campaignId=8YUQL",stg:"https://www.stg.nytimes.com/subscription/games-offer?campaignId=8YUQL",dev:"https://www.stg.nytimes.com/subscription/games-offer?campaignId=8YUQL"})[(null===(_e=window.env)||void 0===_e?void 0:_e.name)||"dev"]||ye.dev;var ye;const he=window.location.origin+window.location.pathname,Ee="".concat(be,"&EXIT_URI=").concat(he),we=(0,ve.f0)({redirect_uri:encodeURIComponent(Ee),response_type:"cookie",client_id:"games",application:"crosswords"}),Se="".concat(k.OB.account,"/auth/enter-email?").concat(we);var Ce=n(28557),Oe=n(33064);function ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(n),!0).forEach((function(t){var o,r,a,s;o=e,r=t,a=n[t],(r="symbol"==typeof(s=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r))?s:s+"")in o?Object.defineProperty(o,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[r]=a})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Pe=(e,t,n)=>{const{updateUserType:o}=(0,c.aF)(),{getVariant:r,reportExposure:a}=(0,i.Z)(),{trackConnectionsClick:s}=(0,f.Z)(),u=(0,l.v9)(d.UQ),m=(0,l.v9)(g.JQ),p=(0,l.v9)(g.Mr).length>0,_=(0,l.v9)(d.Hh),v=r("MKT_SubCon_Connections_PLOPRO_12_23"),y=r("MAPS_wordleRegisNewsletterOptIn_0324"),h=!!v&&"0_Control"!==v,E={text:"Log in",color:"secondary",dataTestId:"moment-btn-login",action:e=>{s("log-in",null,"welcome"),v&&a("MKT_SubCon_Connections_PLOPRO_12_23"),y&&a("MAPS_wordleRegisNewsletterOptIn_0324");let t=h?function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,n=arguments.length>1?arguments[1]:void 0;const o=(null==t||null===(e=t.navigationLinks)||void 0===e?void 0:e.login)||"";return(0,ve.I3)(o)?o:n?(0,k.T0)(Se,n):Se}(window||void 0,null!=y?"&display=,".concat(y):void 0):(0,Oe.U)(window||void 0);h||null==y||(t=(0,Oe.U)(window||void 0,"&display=,".concat(y))),(0,b.Z)(e,o,void 0,t)}};return{playButton:{text:p?m?"Admire puzzle":"Continue":"Play",className:m&&_?["above-link","cta-full-width"]:[],dataTestId:"moment-btn-play",action:()=>{n?e():t(),p||s("start-game"),m&&s("admire-puzzle",null,"welcome")}},logInButton:E,subscribeButton:{text:"Subscribe",color:"secondary",className:["cta-bau"],dataTestId:"moment-btn-subscribe",action:()=>{(0,Ce.c)("".concat(_?"connectionsArchiveWelcome":"connections"),o),s("subscribe",null,"welcome")}},registerButton:Te(Te({},E),{},{color:"primary",text:"Register",dataTestId:"moment-btn-register"}),subscribeGamesSalesButton:{text:ge.sN.acqMessage,color:"secondary",className:["cta-games-sales"],dataTestId:"moment-btn-subscribe-sales",action:()=>{(0,Ce.c)("connections",o),s(ge.sN.acqMessage.toLowerCase(),null,"welcome")}},archiveButton:{text:"Play the Connections archive",color:"secondary",dataTestId:"moment-btn-play-archive",action:()=>{s("archive",null,"welcome")},isLink:!0,url:u}}},Ne=(e,t,n)=>{const{playButton:o,logInButton:r,subscribeButton:a,registerButton:s,subscribeGamesSalesButton:i,archiveButton:u}=Pe(e,t,n),m=(0,l.v9)(d.Hh),p=(0,l.v9)(g.JQ),{userType:{isLoggedIn:_,hasXwd:f}}=(0,c.aF)();return m?f&&!_?[{buttons:[s]}]:f?p?[{buttons:[o,u]}]:[{buttons:[o]}]:_?[{buttons:[Te(Te({},a),{},{color:"primary"})]}]:[{buttons:[Te(Te({},a),{},{color:"primary"}),r]}]:f?[{buttons:[o]}]:_?[{buttons:[o]},{header:"Want to access all of our games?",desktopButtonOrder:"vertical",buttons:[a,i]}]:[{buttons:[o]},{header:"Want to access all of our games?",desktopButtonOrder:"vertical",buttons:[r,a,i]}]},Ae=["hasAd","hasLoaded","transitionFromWelcomeToAd","transitionFromWelcomeToGame","today"];function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(n),!0).forEach((function(t){var o,r,a,s;o=e,r=t,a=n[t],(r="symbol"==typeof(s=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r))?s:s+"")in o?Object.defineProperty(o,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[r]=a})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var je=e=>{let{hasAd:t,hasLoaded:n,transitionFromWelcomeToAd:o,transitionFromWelcomeToGame:r,today:a}=e,i=function(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,Ae);const{userType:u,hasLoaded:p}=(0,c.aF)(),{trackConnectionsImpression:_}=(0,f.Z)(),{isLoggedIn:g,hasXwd:v}=u,b=(0,l.v9)(d.Hh),y=(0,l.v9)(m.bh),h=y&&!b,E=Ne(o,r,t),w=b&&(!v||v&&!g)?"Want to play this past puzzle?":"Group words that share a common thread.",S=Le(Le({},i),{},{title:b?(0,se.F)(a):"Connections",icon:"connections",description:{text:h?"Go ahead, add another day to your <em>".concat(y," day</em> streak."):w},buttonGroups:E});return(0,s.useEffect)((()=>{n&&p&&_("welcome-modal",(e=>{const{isLoggedIn:t,hasXwd:n}=e;return n?null:t?"subscribe":"log-in, subscribe"})(u))}),[n,p]),s.createElement(fe,{game:S})};const De=["hasAd","hasLoaded","transitionFromWelcomeToAd","transitionFromWelcomeToGame","today"];function xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(n),!0).forEach((function(t){var o,r,a,s;o=e,r=t,a=n[t],(r="symbol"==typeof(s=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r))?s:s+"")in o?Object.defineProperty(o,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[r]=a})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Me=e=>{let{hasAd:t,hasLoaded:n,transitionFromWelcomeToAd:o,transitionFromWelcomeToGame:r,today:a}=e,i=function(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,De);const u=(0,l.v9)(g.JQ),m=(0,l.v9)(g.q_),p=(0,l.v9)(g.Xh),{trackConnectionsImpression:_}=(0,f.Z)(),v=(0,l.v9)(d.Hh),b=(()=>{const e=(0,l.v9)(g.JQ),t=(0,l.v9)(g.q_),n=(0,l.v9)(g.Yj),o=(0,l.v9)(d.Hh),r=(0,l.v9)(g.Xh),{userType:{hasXwd:a}}=(0,c.aF)(),s="You have ".concat(r,"/4 categories");return o?e?t?"You solved with ".concat(n," mistakes."):"You're out of guesses.":"".concat(s,a?". Keep going!":". Want to keep playing?"):e?t?"Great job on today's puzzle! Check out your progress.":"Tomorrow's a new day, with a new puzzle. See you then.":"".concat(s,". Keep going!")})();let y="Welcome Back",h="connections-progress-".concat(p);u&&(m?(y="Nice work!",h="connections-progress-won"):(y="Connections",h="connections-progress-loss")),v&&(y=(0,se.F)(a));const E=Ne(o,r,t),w=ze(ze({},i),{},{icon:h,title:y,description:{text:b},buttonGroups:E});return(0,s.useEffect)((()=>{n&&_("welcome-back-modal")}),[n]),s.createElement(fe,{game:w})};const Re=["momentSystem","transitionFromWelcomeToGame","transitionFromWelcomeToAd","today","hasLoaded"];function Ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}const Be=[{name:"ad",Content:e=>{let{isActive:t,transitionFromAdToGame:n}=e;const{usingH5Ad:o}=(e=>{let{isActive:t,transitionFromAdToGame:n}=e;const[o,r]=(0,s.useState)(!1),[a,u]=(0,s.useState)(!1),[d,m]=(0,s.useState)(),[p,_]=(0,s.useState)(),{userType:f,hasLoaded:v}=(0,c.aF)(),b=(0,l.v9)(g.JQ),{hasAbraLoaded:y,reportExposure:h,getVariant:E}=(0,i.Z)();return(0,s.useEffect)((()=>{if(a)return;if(!v||!y||!(0,Z.Z)())return;const{entitlement:e,hasXwd:t}=f;q({entitlement:e,hasXwd:t,isGameFinished:b})&&(E(J)&&h(J),E(Q)&&(h(Q),"1_Variant"===E(Q)&&u(!0)))}),[y,v,f,b]),(0,s.useEffect)((()=>{var e;a&&(null===(e=F.win.AdSlot4)||void 0===e||e.cmd.push((()=>{var e;null===(e=F.win.AdSlot4)||void 0===e||e.events.subscribe({name:"AdSlotReady",scope:"all",callback:()=>{K.cmd.push((()=>{const e=(()=>{var e;const t=null===(e=window)||void 0===e||null===(e=e.AdSlot4)||void 0===e||null===(e=e.props)||void 0===e?void 0:e.adUnitPath;return U=H.defineOutOfPageSlot("".concat(t,"/special"),H.enums.OutOfPageFormat.GAME_MANUAL_INTERSTITIAL),U&&U.addService(H.pubads()),U})();if(!e)return r(!0);m(e),((e,t)=>{H.pubads().addEventListener("gameManualInterstitialSlotClosed",(()=>{e(),H.destroySlots([t])}))})(n,e),K.pubads().addEventListener("gameManualInterstitialSlotReady",(e=>{_(e)})),K.display(e)}))}})})))}),[a]),(0,s.useEffect)((()=>{t&&(!a||d&&!o||n())}),[t,o,a,d]),(0,s.useEffect)((()=>{t&&p&&p.makeGameManualInterstitialVisible()}),[t,p]),{usingH5Ad:a}})({transitionFromAdToGame:n,isActive:t}),{reportExposure:r,getVariant:u}=(0,i.Z)(),d=u(G.w);return(0,s.useEffect)((()=>{d&&t&&r(G.w)}),[d,t]),!t||o?null:s.createElement(B.Z,{id:"intsl",isSpecialAdUnit:!0,position:"intsl",onClose:n,ctaCopy:"Continue to Connections",className:a()("ad-interstital","AdMoment-module_adInterstitial__lqVlA"),skipButtonClassName:a()("AdMoment-module_adInterstitialSkipButton__WWTfv"),enableCountdown:!0,delaySkip:d===G.$})}},{name:"loading",Content:e=>{let{hasLoaded:t,today:n}=e,o=function(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,ee);const r=(0,l.v9)(d.Hh),{hasAbraLoadedWithUser:a}=(0,i.Z)(),c=(0,u.VC)(),m=a&&r&&!c?"game":oe.transitionTo,p=ne(ne(ne({},oe),o),{},{hasLoaded:t,today:n,bgColor:"$connections-periwinkle",barBgColor:"rgba(255, 255, 255, 0.6)",barColor:"#000",transitionTo:m});return s.createElement($.Z,p)}},{name:"welcome",Content:e=>{let{momentSystem:t,transitionFromWelcomeToGame:n,transitionFromWelcomeToAd:o,today:r,hasLoaded:u}=e,m=function(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,Re);const{getVariant:p,hasAbraLoaded:_}=(0,i.Z)(),[v,b]=(0,s.useState)(!1),{userType:y,hasLoaded:h}=(0,c.aF)(),{trackConnectionsImpression:E,trackConnectionsClick:w}=(0,f.Z)(),S=(0,l.v9)(ce.Tn),C=(0,l.v9)(g.JQ),O=(0,l.v9)(g.Mr).length>0,k=(0,ae.X)(r),T=(0,l.v9)(d.Hh),P=(0,re.T4)(),N=(0,re.Bm)();(0,s.useEffect)((()=>{if(_&&h){const e=q({isGameFinished:C,hasXwd:y.hasXwd,entitlement:y.entitlement});b(e)}}),[h,C,_,y.entitlement]);const A=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(n),!0).forEach((function(t){var o,r,a,s;o=e,r=t,a=n[t],(r="symbol"==typeof(s=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r))?s:s+"")in o?Object.defineProperty(o,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[r]=a})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({bgColor:"$connections-periwinkle",infoText:s.createElement(s.Fragment,null,s.createElement("span",{className:a()({"pz-moment__info-puzzleNumber":!T,"pz-moment__info-date":T})},"No. ",k+1),s.createElement("span",{className:"pz-moment__info-editor"},"By ",S)),date:T?"":(0,se.F)(r),hasAd:v,hasLoaded:u,transitionFromWelcomeToGame:n,transitionFromWelcomeToAd:o,today:r},m);return(0,s.useEffect)((()=>{(0,re.Od)(),(0,re.ts)(),P&&E("welcome","download-app")}),[P]),(0,ie.Z)(),s.createElement(s.Fragment,null,O?s.createElement(Me,A):s.createElement(je,A),(()=>{const e=()=>{E("welcome","download-app")},t=()=>{w("welcome-download-app","https://fpx3r.app.goo.gl/app-store","welcome")};return P?(0,re.iJ)()?!(0,re.iJ)()&&N?s.createElement(le.j,{ctaLink:"https://fpx3r.app.goo.gl/app-store",type:le.Z.GRID,position:"fixed",newTab:!0,onVisible:()=>e(),onClickLink:()=>t()}):s.createElement(le.j,{title:"Play Connections and more in the NYT Games app.",icon:"crossword-app",ctaLink:"https://fpx3r.app.goo.gl/app-store",type:le.Z.MULTI,newTab:!0,onVisible:()=>e(),onClickLink:()=>t()}):s.createElement(le.j,{title:"NEW TO THE APP",message:"Connections stats now in\nthe NYT Games App!",icon:"connections-stats_cta",ctaLink:"https://fpx3r.app.goo.gl/app-store",type:le.Z.SINGLE,newTab:!0,onVisible:()=>e(),onClickLink:()=>t()}):null})())}},{name:"congrats",Content:()=>{const{userType:e,updateUserType:t}=(0,c.aF)(),n=!e.isLoggedIn,o="congrats"===(0,l.v9)(C.aX),r=(0,l.v9)(d.Hh),h=(0,u.F2)(r),E=(0,l.v9)(d.UQ),O=(0,l.v9)(g.Yj),k=r?_.Dh[O]:_.r9[O],T=(0,l.v9)(m.qo),P=(0,l.v9)(m.lR),N=!!window.gamesAppPlatform,{getVariant:I,reportExposure:L}=(0,i.Z)(),j="GAMES_connectionsBotCTA",D=I(j),G=!N&&!r&&D&&("1_copy_A"===D||"1_copy_B"===D||"1_copy_C"===D||"1_copy_D"===D||"1_copy_E"===D);(0,s.useEffect)((()=>{!N&&o&&L(j)}),[N,o]);const B=(0,l.v9)(g.Gp),{trackConnectionsImpression:Z,trackConnectionsClick:F}=(0,f.Z)(),U=()=>F("connections-bot",null,"congrats");function H(){F("archive",null,"congrats")}const X=e=>{switch(e){case"connections-archive":case"connections-archive-today":return(0,y.Z)(E);case"spelling-bee":return(0,y.Z)("/puzzles/spelling-bee");default:return""}};(0,s.useEffect)((()=>{let e=null;if(T&&o){const{win_percentage:t,puzzles_completed:n,current_streak:o,max_streak:r}=T;e=["p: ".concat(n),"w: ".concat(t),"cs: ".concat(o),"ms: ".concat(r)]}Z("congrats-modal",e)}),[T,o]);const W=(0,l.v9)(g.a0);return s.createElement(w.im,{bgColor:"$white"},s.createElement("div",{className:a()("Congrats-module_modalContent__LWPwi","sequence-animation")},s.createElement(w.WL,{closeText:"Back to puzzle",action:()=>Ue.transition("congrats","game"),className:"Congrats-module_closeButton__KtTXC"}),s.createElement("div",null,s.createElement("div",{className:a()("Congrats-module_completionIcon__PsydU",B?"Congrats-module_lost__YUW_p":"Congrats-module_won__l9l9l",{"Congrats-module_todaysPuzzle__vOhE7":!r})}),s.createElement("h2",{"data-testid":"conn-congrats__title",className:a()("Congrats-module_modalTitle__QDY5W",{"Congrats-module_titleCondensed__XuQW1":n})},"".concat(void 0!==O&&k,"!")),!n&&s.createElement("div",{className:a()("Congrats-module_statsContainer__PElM3",G?"Congrats-module_withCTALink__AAXdH":""),"data-testid":"conn-congrats__stats"},s.createElement(S.Z,{statsData:T,firstRowOnly:!0,showPostErrorMsg:W}),G&&R(D,"bottom",U)),n&&s.createElement("div",{className:"Congrats-module_modalCreateAcctContainer__otGSB","data-testid":"conn-congrats__register"},s.createElement("h2",{className:"Congrats-module_modalSubtitle__ZRjQq"},"Register to track your stats and follow your progress.")," ",s.createElement(p.Z,{className:a()(x,"Congrats-module_createAccountButton__IAAZn"),text:"Create a free account",onClick:e=>{F("register",null,"congrats"),(0,b.Z)(e,t)}}),G&&R(D,"both",U)),s.createElement(A,{triggerPopIn:!0,earnedBadges:P}),s.createElement(z,null)),s.createElement("div",{className:a()("Congrats-module_buttonsContainer__FL59Y")},s.createElement(M,{buttonType:n?"secondary":"primary"}),h.map((e=>{const t="connections-archive"===e||"connections-archive-today"===e;return s.createElement(v.Z,{key:e,url:X(e),fromGame:"connections",nextGame:e,trackNextGameClick:t?H:void 0,hasNewLabel:"connections-archive"===e||"connections-archive-today"===e})})))))}}],Ze=(0,o.Z)(Be),{Moments:Fe,momentSystem:Ue}=Ze},44291:function(e,t,n){n.d(t,{Jv:function(){return u},Tn:function(){return c},dG:function(){return p},j3:function(){return m},nf:function(){return d}});var o=n(47549),r=n(17165),a=n(62738);const s=(0,o.createSelector)((e=>e),(e=>a.X.endpoints.getSolutionByDate.select(e))),l=(0,o.createSelector)([e=>e,r._2],((e,t)=>s(t)(e))),i=(0,o.createSelector)(l,(e=>e.data||null)),c=(0,o.createSelector)(i,(e=>(null==e?void 0:e.editor)||"Wyna Liu")),u=(0,o.createSelector)(i,(e=>(null==e?void 0:e.id)||null)),d=(0,o.createSelector)(i,(e=>(null==e?void 0:e.print_date)||"")),m=(0,o.createSelector)(i,(e=>e?e.categories.map(((e,t)=>({title:e.title,level:t}))):[])),p=(0,o.createSelector)(i,(e=>e?e.categories.reduce(((e,t,n)=>{const o=t.cards.map((e=>({content:e.content,originalPosition:e.position,level:n})));return e.concat(o)}),[]):[]))},62738:function(e,t,n){n.d(t,{S:function(){return l},X:function(){return s}});var o=n(7709),r=n(65489);function a(e,t,n,o,r,a,s){try{var l=e[a](s),i=l.value}catch(e){return void n(e)}l.done?t(i):Promise.resolve(i).then(o,r)}const s=(0,o.LC)({reducerPath:"loadSolutionApi",baseQuery:function(){let{baseUrl:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{baseUrl:""};return function(){var t,n=(t=function(t){let{url:n,method:o="get",options:a}=t;return function*(){try{const t=yield r.Be[o](e+n,a);return"errors"in t&&t.errors?{error:{status:t.status,data:t.errors,results:t.results}}:{data:t}}catch(e){return{error:{status:null==e?void 0:e.status,data:e.message}}}}()},function(){var e=this,n=arguments;return new Promise((function(o,r){var s=t.apply(e,n);function l(e){a(s,o,r,l,i,"next",e)}function i(e){a(s,o,r,l,i,"throw",e)}l(void 0)}))});return function(e){return n.apply(this,arguments)}}()}({baseUrl:"".concat(r.OB.edge,"/svc/connections/v2/")}),keepUnusedDataFor:1/0,endpoints:e=>({getSolutionByDate:e.query({query:e=>({method:"get",url:"".concat(e,".json"),options:{withStatus:!0}}),transformErrorResponse:(e,t,n)=>{const o={message:["message: ".concat(e.data),"today: ".concat(n)].join(", ")};return console.warn("Request for connections puzzle data failed with error: ".concat(o.message)),e}})})}),{useGetSolutionByDateQuery:l}=s},75541:function(e,t,n){n.d(t,{Lw:function(){return s},SY:function(){return r},Y5:function(){return a}});var o=n(51722);const r=e=>{const t={};return e.forEach((e=>{let{level:n}=e;const o=t[n];t[n]=void 0!==o?o+1:1})),Object.values(t).includes(o.nA-1)},a=e=>e.split(",").sort(((e,t)=>Number(e)-Number(t))).toString(),s=(e,t)=>e.map((e=>a(e.cards))).includes(a(t.cards))},76395:function(e,t,n){n.d(t,{Z:function(){return sn}});var o={};n.r(o),n.d(o,{average:function(){return Rt},emptyStats:function(){return Ft},maxedOut:function(){return Bt},newPlayer:function(){return Gt},ones:function(){return Zt}});var r=n(89526),a=n(73961),s=n(76359),l=n(14237),i=n(57256),c=n(22152),u=n(34458),d=n(69802),m=n(43812),p=n(38661),_=n(84510),f=n(42902),g=n(31189),v=n(60063),b=n(39385),y=n(25948),h=n(75539),E=n(82786),w=n(97593),S=n(64403),C=n.n(S),O=n(51722),k=n(89979),T=n(33234),P=n(72059),N=n(74078),A=n(17165);let I=function(e){return e.X_SMALL="xSmall",e.SMALL="small",e.MEDIUM="medium",e.LARGE="large",e.X_LARGE="xLarge",e}({});const L=["children","disabled","isFilled","isFilledWhileDisabled","isSubmit","size","href"];function j(){return j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},j.apply(this,arguments)}function D(e){switch(e){case I.X_SMALL:return"ActionButton-module_xSmall__WP4hl";case I.SMALL:return"ActionButton-module_small___YtWp";case I.MEDIUM:return"ActionButton-module_medium__Zwxfw";case I.LARGE:return"ActionButton-module_large__UR6Br";case I.X_LARGE:return"ActionButton-module_xLarge__zj7ZN";default:return""}}var x=e=>{const{children:t,disabled:n,isFilled:o,isFilledWhileDisabled:a,isSubmit:l,size:i,href:c}=e,u=function(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,L),d=(0,s.v9)(P.JQ),m=(0,s.v9)(A.Hh),p=C()("ActionButton-module_button__IlhXt",{[D(i)]:i,"ActionButton-module_filled__zUShw":o&&!n||a&&n,"ActionButton-module_archiveGameOverButton__tiDVD":d&&m});return r.createElement(r.Fragment,null,c?r.createElement("a",{href:c,className:p},t):r.createElement("button",j({disabled:n,type:l?"submit":"button"},u,{className:p}),t))},z=n(34543),M=n(89406),R=n(95982);function G(e){let{isGameOver:t,isDisabled:n}=e;return t||n}function B(e){let{selectedCards:t,isDisabled:n}=e;return n||0===t.length}var Z=e=>{let{isDisabled:t,onSubmit:n,today:o}=e;const a=(0,s.I0)(),l=(0,s.v9)(P.Mr),i=(0,s.v9)(z.j5),c=(0,s.v9)(P.Lc),u=(0,s.v9)(P.JQ),d=(0,s.v9)(P.cZ),{trackConnectionsClick:m}=(0,R.Z)(),p=function(e){let{selectedCards:t,guesses:n,isRecentIncorrect:o}=e;const r=t.length===O.nA,a=n.filter((e=>!e.correct)).length<O.oM;return!(!o&&r&&a)}({selectedCards:c,guesses:l,isRecentIncorrect:d});return r.createElement(r.Fragment,null,r.createElement(x,{form:"default-choices","data-testid":"shuffle-btn",disabled:G({isGameOver:u,isDisabled:t}),onClick:()=>{a((0,M.XF)({component:N.zH.CARD,effect:N.bi.CARD_SHUFFLE,animationTimeout:k.ie})),m("shuffle"),a((0,T.MR)())}},"Shuffle"),r.createElement(x,{form:"default-choices","data-testid":"deselect-btn",size:I.MEDIUM,disabled:B({selectedCards:c,isDisabled:t}),onClick:()=>{m("deselect"),a((0,T.AS)())}},"Deselect all"),r.createElement(x,{isSubmit:!0,form:"default-choices","data-testid":"submit-btn",size:I.X_SMALL,disabled:p||t,isFilled:!0,isFilledWhileDisabled:i&&!p,onClick:e=>{e.preventDefault(),n()}},"Submit"))},F="Card-module_bounce4__bqZEe",U="Card-module_bounce3__dq6CF",H="Card-module_bounce2__oOMZc",X="Card-module_bounce1__joCfe",W="Card-module_mistakeShake__bGlnV",V="Card-module_shuffle__PBryY",Y="Card-module_shuffleSelected__GBb0I",q="Card-module_label__U_Q2H",Q="Card-module_selected__cN2eT",J="Card-module_error__p7FiV",K="Card-module_disabled__lEDp4",$="Card-module_shrinkCard__PC3_N",ee="Card-module_labelXXXXXXSm__MBO61",te="Card-module_labelXXXXXSm__kodEb",ne="Card-module_labelXXXXSm__f8uZ8",oe="Card-module_labelXXXSm__FucRV",re="Card-module_labelXXSm__mN2I_",ae="Card-module_labelXSm__re9XU",se="Card-module_labelSm___0Du7",le="Card-module_labelMd__M_fr5",ie="Card-module_labelLg__B4X4l",ce="Card-module_labelXLg__marsN",ue="Card-module_labelXXLg__awzvt",de="Card-module_labelXXXLg__LzdWa",me="Card-module_labelXXXXLg__kDuRR";const pe=e=>e.split(" ").sort(((e,t)=>t.length-e.length))[0];const _e=e=>e?e.effect===N.bi.CARD_SHAKE?" ".concat(W):e.effect===N.bi.CARD_BOUNCE?" ".concat(function(e){switch(e){case 1:return X;case 2:return H;case 3:return U;default:return F}}(e.timeout)):e.effect===N.bi.CARD_SHUFFLE?e.selected?" ".concat(Y):" ".concat(V):"":"",fe=["content","originalPosition","disabled","selected","level","selectedIndex"];function ge(){return ge=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ge.apply(this,arguments)}var ve=(0,r.memo)((e=>{let{content:t,originalPosition:n,disabled:o,selected:a,level:l,selectedIndex:i}=e,c=function(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,fe);const u=(0,s.I0)(),d=(0,s.v9)((0,z.Ux)({selected:a,selectedIndex:i})),{winWidth:m}=(0,p.Z)(),[_,f]=(0,r.useState)(!1),g=function(e){let{winWidth:t,content:n}=e;return/\p{Extended_Pictographic}/u.test(n)?me:t>O.yw?function(e){const t=pe(e);return t.length<13?de:13===t.length?ue:ce}(n):function(e,t){const n=pe(e);if(t>375)switch(n.length){case 1:case 2:case 3:case 4:case 5:case 6:case 7:return ce;case 8:return ie;case 9:return le;case 10:case 11:return se;case 12:case 13:return ae;case 14:return re;case 15:return oe;default:return ne}else if(t<=375&&t>300)switch(n.length){case 1:case 2:case 3:case 4:case 5:case 6:case 7:return ce;case 8:return ie;case 9:return le;case 10:case 11:return se;case 12:return ae;case 13:return re;case 14:return oe;default:return ne}else switch(n.length){case 1:case 2:case 3:case 4:case 5:return ce;case 6:return ie;case 7:return le;case 8:return se;case 9:return ae;case 10:return re;case 11:return oe;case 12:case 13:return te;default:return ee}}(n,t)}({winWidth:m,content:t}),v=()=>{u((0,T.GR)(t))};return r.createElement("label",ge({htmlFor:"inner-card-".concat(n),className:C()(q,g,_e(d),{[$]:_,[K]:o,[Q]:a,[J]:(null==d?void 0:d.effect)===N.bi.CARD_SHAKE}),key:"inner-card-".concat(n),onPointerDown:()=>{o||(f(!0),v())},onPointerUp:()=>{o||f(!1)},onPointerCancel:()=>{f(!1)},onPointerLeave:()=>{f(!1)},"data-testid":"card-label"},c),r.createElement("input",{className:"visually-hidden",type:"checkbox",id:"inner-card-".concat(n),name:"inner-card-".concat(n),value:t,defaultChecked:a,disabled:o,"data-testid":"card-input",onKeyDown:e=>{o||" "!==e.key||v()}}),t)}));const be=(e,t)=>{let{animation:n}=e,{animation:o}=t;return!(n&&n.effect===N.bi.CARD_SHUFFLE||o&&o.effect===N.bi.CARD_SHUFFLE)};function ye(){return ye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ye.apply(this,arguments)}function he(e){switch(e/O.nA){case 3:return"Cards-module_cardsContainer3__xoWJT";case 2:return"Cards-module_cardsContainer2__V9ZMo";case 1:return"Cards-module_cardsContainer1__uoVPZ";default:return"Cards-module_cardsContainer4__sK7TL"}}var Ee=e=>{let{disabled:t}=e;const n=(0,s.v9)(P.a2),o=(0,s.v9)(P.Lc),a=o.length>=O.nA;let l=0;return r.createElement("div",{className:"".concat("Cards-module_cardsContainer__O3T5q"," ").concat(he(n.length))},n.map((e=>{const n=o.includes(e.content);return n&&(l+=1),r.createElement(w.$3,{key:"".concat(e.content,"-flip"),flipId:e.content,shouldFlip:be},r.createElement(ve,ye({},e,{selected:n,disabled:t||a&&!n,key:"card-position-".concat(e.originalPosition),selectedIndex:l})))})))},we=n(32873),Se=n(26171),Ce={flexContainer:"Mistakes-module_flexContainer___oCzL",expandToRow:"Mistakes-module_expandToRow__hW0yq Mistakes-module_flexContainer___oCzL",mobileColumn:"Mistakes-module_mobileColumn__S1QSJ","visually-hidden":"Mistakes-module_visually-hidden__vm31W",mistakesWrapper:"Mistakes-module_mistakesWrapper__LGl68",showMistakes:"Mistakes-module_showMistakes__q6EWj",hideMistakes:"Mistakes-module_hideMistakes__C3kxl",mistakesContent:"Mistakes-module_mistakesContent__nlijY",indicatorDisbled:"Mistakes-module_indicatorDisbled__YtmNp",mistakesRemainingBubbles:"Mistakes-module_mistakesRemainingBubbles__iTrFU",bubble:"Mistakes-module_bubble__nDlOh",bubbleMistakeAnimation:"Mistakes-module_bubbleMistakeAnimation__zICdm",pop:"Mistakes-module_pop__d9up3",slideDown:"Mistakes-module_slideDown___sQRX",flyIn:"Mistakes-module_flyIn__uuqxu",flyOut:"Mistakes-module_flyOut__h9jRY",fadeIn:"Mistakes-module_fadeIn__qZ2WX"},Oe=(0,r.memo)((e=>{let{isMistakeIndicatorDisabled:t=!1}=e;const n=(0,s.v9)(P.Yj),o=(0,s.v9)(P.JQ),[a,l]=(0,r.useState)(o),i=O.oM-n,c=Array(i).fill(void 0);return o&&!a&&setTimeout((()=>{l(!0)}),2*k.NC),!o&&a&&l(!1),a?null:r.createElement("section",null,r.createElement("span",{className:C()(Ce.mistakesWrapper,o?Ce.hideMistakes:Ce.showMistakes)},r.createElement("span",{className:"visually-hidden","aria-atomic":"true","aria-live":"assertive","data-testid":"mistake-count"},i," mistakes remaining out of ",O.oM),r.createElement("p",{className:C()(Ce.mistakesContent,{[Ce.indicatorDisabled]:t}),"aria-hidden":"true","data-testid":"mistake-text"},"Mistakes remaining:",r.createElement(we.Z,{className:Ce.mistakesRemainingBubbles,component:"span"},c.map(((e,n)=>r.createElement(Se.Z,{key:"bubble-".concat(n),timeout:400,classNames:{exit:Ce.bubbleMistakeAnimation}},r.createElement("span",{className:C()(Ce.bubble,{[Ce.indicatorDisabled]:t}),"data-testid":"mistake-bubble"}))))))))})),ke=n(71556),Te=e=>{let{autoSolve:t,disabled:n}=e;const o=(0,s.I0)(),a=(0,s.v9)(P.JQ);return(0,ke.d)()&&window.location.pathname.includes("/puzzles/shortz")?r.createElement("div",{className:"ShortzControls-module_shortzContainer__bD162"},r.createElement(x,{form:"default-choices",size:I.LARGE,disabled:n||a,onClick:t,"data-testid":"complete-button"},"Complete Puzzle"),r.createElement(x,{form:"default-choices",size:I.MEDIUM,disabled:n,onClick:()=>o((0,T._X)()),"data-testid":"reset-button"},"Reset Puzzle")):null};const Pe=["getIsClosing","getOpenToastName","toastMap","onClose","portalId","onRemove","rankTitle"];function Ne(){return Ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Ne.apply(this,arguments)}function Ae(e){let{getIsClosing:t,getOpenToastName:n,toastMap:o,onClose:l,portalId:i,onRemove:c,rankTitle:u}=e,d=function(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,Pe);const m=r.useRef(document.getElementById(i)),p=(0,s.v9)(n),_=(0,s.v9)(t),f=(0,s.I0)();if(!p)return null;const g=o[p],v=r.createElement(g,Ne({close:function(){return f(l(arguments.length>0&&void 0!==arguments[0]&&arguments[0]))},isClosing:_,onRemove:()=>f(c()),rankTitle:u},d));return m.current?(0,a.createPortal)(v,m.current):v}var Ie=n(73917),Le=n(85171),je=e=>{let{text:t,onRemove:n,durationVisible:o=3e3}=e;const[a,s]=(0,r.useState)(!1),[l,i]=(0,r.useState)(!1);(0,r.useEffect)((()=>{s(!0)}),[]),(0,Le.Z)((()=>i(!0)),o===1/0?null:o);const c="Copied results to clipboard"===t;return r.createElement("div",{"data-testid":"connection-toast",className:C()("Toast-module_toast__YAoDa",{"Toast-module_fadeIn__F7BjX":a,"Toast-module_fadeOut__YGx_N":l,"Toast-module_copyToast__aEbAa":c}),"aria-live":"assertive",onTransitionEnd:()=>{n&&l&&n()}},r.createElement("h2",null,t))};const De={[Ie.n.ALREADY_GUESSED]:e=>{let{onRemove:t}=e;return r.createElement(je,{text:"Already guessed!",onRemove:t})},[Ie.n.ONE_AWAY]:e=>{let{onRemove:t}=e;return r.createElement(je,{text:"One away...",onRemove:t})},[Ie.n.REVEAL_MISTAKE_TITLE]:e=>{let{onRemove:t,rankTitle:n}=e;return r.createElement(je,{text:n,onRemove:t})},[Ie.n.COPY_RESULTS]:e=>{let{onRemove:t}=e;return r.createElement(je,{text:"Copied results to clipboard",onRemove:t})},[Ie.n.SHARE_FAIL]:e=>{let{onRemove:t}=e;return r.createElement(je,{text:"Share failed",onRemove:t})}};var xe=n(57234),ze=n(75013),Me=n(9586),Re=n(50142),Ge=n(22466),Be=n(97092),Ze=n(60820);const Fe=["children","icon"];function Ue(){return Ue=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Ue.apply(this,arguments)}var He=e=>{const{children:t,icon:n}=e,o=function(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,Fe);return r.createElement("li",null,r.createElement("button",Ue({type:"button"},o,{className:"ToolbarButton-module_button__K6r2Z"}),r.createElement(Ze.v,{icon:n}),t))},Xe=n(3097);let We=function(e){return e.HELP="help",e.SETTINGS="settings",e.STATS="statistics",e}({});var Ve=n(86613),Ye=n(90875),qe=n(53818),Qe=n(62174),Je=n(34303),Ke=n(44291),$e=n(30674);function et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?et(Object(n),!0).forEach((function(t){var o,r,a,s;o=e,r=t,a=n[t],(r="symbol"==typeof(s=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r))?s:s+"")in o?Object.defineProperty(o,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[r]=a})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nt(e){let{hide:t,onButtonClick:n,today:o,showTooltip:a}=e;const{userType:u}=(0,l.aF)(),{getVariant:d}=(0,i.Z)(),{trackConnectionsClick:m}=(0,R.Z)(),p=(0,s.v9)(Ke.nf),_=!!(0,s.v9)($e.qo),f=u.isLoggedIn&&!_,g=new Date("2024/05/22"),v=new Date("2023/10/16"),E=(0,s.v9)(h._h);let w=(0,qe.oS)(o),S=new Date(w);const C=(0,Xe.X)(o),O=C+1;((0,xe.Z)(o,g)||(0,ze.Z)(o,g))&&(S=(0,Me.Z)(S,1),w=(0,qe.oS)((0,Me.Z)(S,1)));const k=!(window.isHybridWebView||window.gamesAppPlatform||window.newsreaderAppPlatform),T=d(c.dQ),P=k&&"0_control"!==T,N=(0,r.useRef)(null),A=(0,Je.U)("connections-toolbar-forum-tooltip",2),I=Object.entries(window.abra.tests).map((e=>e.join("="))).join(","),L={subject:"Connections Feedback",useEnhancedHybridDebugInfo:!0,type:b.N1.CUSTOM,variant:{testName:"All Tests",activeVariant:I}};let j="https://www.nytimes.com/".concat(w,"/crosswords/connections-companion-").concat(O,".html");return(0,xe.Z)(S,v)?j="":(0,xe.Z)(S,g)&&(j="https://www.nytimes.com/".concat(w,"/crosswords/connections-companion.html")),P?r.createElement(Ge.Z,{isHidden:t},r.createElement(Re.Z,null,r.createElement("div",{ref:N},j?r.createElement(Be.Eg,{icon:Be.qD.FORUM,itemType:Be.uF.LINK,url:j,trackingProps:{puzzleId:C.toString(),puzzleDate:p,hasArchive:!1}}):r.createElement(r.Fragment,null)),a&&!E&&""!==j&&r.createElement(Qe.u,{targetRef:N,hideForumTooltip:A,currentMoment:y.S.getCurrentMoment()}),!f&&r.createElement(Be.Eg,{icon:Be.qD.STATS,itemType:Be.uF.BUTTON,onClick:()=>{m("stats",null,"toolbar"),n(Ie.P.STATS)}}),r.createElement(Ve.Z,{toolbarItemIcon:Be.qD.HELP,trackingProps:{puzzleId:(0,Xe.X)(o).toString(),puzzleDate:p}},r.createElement(Ye.Z,{type:Ye.H.BUTTON,label:"How to Play",onClick:()=>{m("help"),n(Ie.P.HOW_TO_PLAY)}}),r.createElement(Ye.Z,{type:Ye.H.FEEDBACK_LINK,label:"Feedback",feedbackLinkProps:L}),r.createElement(Ye.Z,{type:Ye.H.FEEDBACK_LINK,label:"Report a Bug",feedbackLinkProps:tt(tt({},L),{},{subject:"Connections Bug Report"})}),r.createElement(Ye.Z,{type:Ye.H.LINK,label:"Questions?",url:"https://help.nytimes.com/hc/en-us/articles/28525912587924-Connections"})))):r.createElement(Ge.Z,{isHidden:t},r.createElement("nav",{className:"Toolbar-module_toolbarWrapper__AlFk2"},r.createElement("ul",{className:"Toolbar-module_toolbar__TY86B"},r.createElement(He,{icon:We.SETTINGS,"aria-label":"Settings",onClick:()=>{n(Ie.P.SETTINGS)}}),!f&&r.createElement(He,{icon:We.STATS,"aria-label":"Statistics",onClick:()=>{m("stats",null,"toolbar"),n(Ie.P.STATS)}}),r.createElement(He,{icon:We.HELP,onClick:()=>{m("help"),n(Ie.P.HOW_TO_PLAY)},"aria-label":"Help"}))))}var ot="SolvedCategory-module_textFadeInThemeLight__bl7Jn";const rt=(e,t)=>e.content<t.content?-1:1;var at=(0,r.memo)((e=>{let{category:t,shouldPulse:n}=e;const{title:o,level:a}=t,l=(0,s.v9)((0,P.D1)(a)).slice().sort(rt);return r.createElement("section",{className:C()("SolvedCategory-module_solvedCategory___8phN",{"SolvedCategory-module_pulse__vNMz_":n}),"data-level":a,role:"img","aria-label":"Correct group ".concat(o,". ").concat(l.map((e=>e.content))),"data-testid":"solved-category-container"},r.createElement("h3",{className:C()("SolvedCategory-module_categoryTitle__UJ5pY",ot),"data-testid":"solved-category-title"},o),r.createElement("ol",null,l.map((e=>r.createElement("li",{key:"found-category-card-".concat(e.originalPosition),className:C()("SolvedCategory-module_cardListItem__YZ56v",ot),"data-testid":"solved-category-card"},e.content)))))})),st=(0,r.memo)((()=>{const e=(0,s.v9)(P.p2),t=(0,s.v9)(z.K8);return 0===e.length?null:r.createElement("article",{"aria-live":"assertive"},r.createElement("p",{className:"visually-hidden"},e.length," Found","Categor".concat(1===e.length?"y":"ies")," out of"," ",O.pr),r.createElement("ol",{className:"SolvedCategories-module_solvedCategoriesContainer___8Udu"},e.map((e=>r.createElement(at,{category:e,key:"solved-".concat(e.level),shouldPulse:t===e.level})))))})),lt=n(40667),it=e=>{let{today:t,showTooltip:n}=e;const o=(0,s.I0)(),a=(0,s.v9)(P.a2),l=(0,s.v9)(z.qQ),i=(0,s.v9)(P.Sf),c=(0,s.v9)(P.Q5),u=(0,s.v9)(P.aB),d=(0,s.v9)(P.Yj),m=(0,s.v9)(P.p2),p=(0,s.v9)(P.JQ),_=(0,s.v9)(A.Hh),{trackConnectionsClick:f}=(0,R.Z)(),g=(0,s.v9)(A.UQ),v=N.r9[d];(0,r.useEffect)((()=>{o((0,T.AS)())}),[m.length]);const b=a.reduce(((e,t)=>e?"".concat(e,"-").concat(t.content):t.content),"");return(0,r.useEffect)((()=>{if("in progress"===c){const e=u.length>0?k.C6+k.Vb:k.C6;setTimeout((()=>{const e=o((0,lt.Lv)());e<O.pr&&o((0,lt.x8)(e))}),e)}}),[c,u.length]),r.createElement(r.Fragment,null,r.createElement(Ae,{portalId:"portal-toast-system",toastMap:De,getOpenToastName:h.my,getIsClosing:h.xf,onClose:E.yg,onRemove:E.RS,rankTitle:v}),r.createElement(nt,{hide:!1,onButtonClick:e=>{o((0,E.h7)(e))},today:t,showTooltip:n}),r.createElement("article",{className:"Board-module_board__gdu5I","data-testid":"connections-board"},r.createElement("form",{id:"default-choices",className:"Board-module_form__B5pmo"},r.createElement("h2",null,"Create four groups of four!"),r.createElement("fieldset",{className:"Board-module_boardContainer__vObNY"},!p&&r.createElement("legend",{className:"visually-hidden"},"Select four items that have something in common"),r.createElement(st,null),r.createElement(w.U5,{flipKey:b,decisionData:{animation:l},spring:{stiffness:190,damping:25}},r.createElement(Ee,{disabled:i})))),r.createElement(Oe,{isMistakeIndicatorDisabled:p}),r.createElement("section",{className:C()("Board-module_boardActionGroup__mUDT8",{"Board-module_archiveGameOverButtonGroup__UxUJS":_&&p})},p?r.createElement(r.Fragment,null,r.createElement(x,{form:"default-choices",size:I.X_LARGE,onClick:()=>{y.S.transition("game","congrats")}},"View Results"),_&&r.createElement(x,{form:"default-choices",size:I.X_LARGE,href:g,onClick:()=>{f("archive",null,"congrats")}},"Play the Connections archive")):r.createElement(Z,{isDisabled:i,onSubmit:()=>o((0,lt.ip)()),today:t})),r.createElement(Te,{disabled:i,autoSolve:()=>{o((0,T.AS)()),o((0,T.L9)())}})))},ct=n(36629),ut=n(69202),dt="Error-module_errorContent__fSOKJ",mt="Error-module_errorTitle__ljcWi",pt="Error-module_errorSubtitle__m9sRl",_t="Error-module_errorText__sGk_G";const ft=e=>{let{errorType:t}=e;const n="offline"===t&&"Error-module_offlineErrorIcon__ZJKiw";return r.createElement("span",{role:"img","aria-hidden":!0,className:n||"Error-module_defaultErrorIcon__WqNTT"})},gt=()=>r.createElement("div",{className:dt},r.createElement("h1",{className:mt,"data-testid":"error-header"},"Oh no!"),r.createElement("h2",{className:pt,"data-testid":"error-subheader"},"You’re offline."),r.createElement("p",{className:_t},"Find a connection and come back.")),vt=()=>r.createElement("div",{className:dt},r.createElement("h1",{className:mt,"data-testid":"error-header"},"Oops!"),r.createElement("h2",{className:pt,"data-testid":"error-subheader"},"Something went wrong."),r.createElement("p",{className:_t},"Please try again later.")),bt=()=>r.createElement("div",{className:dt},r.createElement("h1",{className:mt,"data-testid":"error-header"},"Oops!"),r.createElement("h2",{className:pt,"data-testid":"error-subheader"},"We’re missing data for this puzzle."),r.createElement("p",{className:_t},"Please test after the data has been added.")),yt=()=>r.createElement("div",{className:dt},r.createElement("h1",{className:mt,"data-testid":"error-header"},"Oops!"),r.createElement("h2",{className:pt,"data-testid":"error-subheader"},"Date precedes the launch date of"," ",(0,ct.Z)(O.hd,"MMM d, yyyy"),"."),r.createElement("p",{className:_t},"Please test a later puzzle."));function ht(e){let{errorType:t,showBackButton:n=!1}=e;const o=n||document.referrer.includes("nytimes");if(!t)return null;const a={offline:{icon:r.createElement(ft,{errorType:"offline"}),content:r.createElement(gt,null)},default:{icon:r.createElement(ft,null),content:r.createElement(vt,null)},isFutureDate:{icon:r.createElement(ft,null),content:r.createElement(vt,null)},isInvalidArchiveRoute:{icon:r.createElement(ft,null),content:r.createElement(vt,null)},missingData:{icon:r.createElement(ft,null),content:r.createElement(bt,null)},precedesLaunch:{icon:r.createElement(ft,null),content:r.createElement(yt,null)}},{icon:s,content:l}=a[t]||a.default;return r.createElement("div",{className:"Error-module_container__Fx8Rp",role:"dialog"},r.createElement("div",{className:"Error-module_errorContainer___3f4b"},s,l,o&&r.createElement("button",{className:"Error-module_backButton__q290v",type:"button","data-testid":"back",onClick:()=>{(0,ut.n)()}},"Back")))}var Et=n(35451),wt=e=>{let{today:t}=e;const n=r.createElement("span",null,(0,Et.F)(t)),o=r.useRef(document.getElementById("portal-game-date"));return o.current?(0,a.createPortal)(n,o.current):n},St=n(26897),Ct=n(56470),Ot=n(155),kt=n(30157);const Tt=e=>e.loading.isConnectionsLoaded;var Pt=n(33738),Nt=n(95609),At=n(62738);function It(e,t,n,o,r,a,s){try{var l=e[a](s),i=l.value}catch(e){return void n(e)}l.done?t(i):Promise.resolve(i).then(o,r)}const Lt={errorName:"isFutureDate",solutionEndpointError:null},jt={errorName:"isInvalidArchiveRoute",solutionEndpointError:null},Dt=()=>{const e=(0,s.I0)(),t=(0,s.v9)(Ke.Jv),n=(0,s.v9)(A._2),o=(0,s.v9)(A.On),a=(0,Ot.VC)(),l=(0,s.v9)(Ke.dG),i=(0,s.v9)(P.kX),c=(0,s.v9)(Tt),u=(0,ke.d)(),d=(0,ct.Z)((0,Nt.Y)({gameDataKey:Nt.I.CONNECTIONS}),"yyyy-MM-dd"),m=window.connectionsArchiveDate,p=m===d;(0,r.useEffect)((()=>{a&&p&&window.location.replace("/connections.html".concat(window.isHybridWebView?"?GAMES_connectionsRollout_1130=1_ConnectionsV2":""))}),[a,p]);const{isLoading:_,isError:f,error:g}=(0,At.S)(n,{skip:!!t});let v=null;if(f&&g&&(v=((e,t,n,o)=>{if(!e||t)return"default";if(404===(null==n?void 0:n.status)){if((0,St.Z)(o))return"missingData";if((0,xe.Z)(o,O.hd))return"precedesLaunch"}return"default"})(u,_,g,o)),(0,r.useEffect)((()=>{l.length>0&&0===i.length&&e((0,T.Es)(l))}),[l,i]),(0,r.useEffect)((()=>{const n=function(){var t,n=(t=function*(){yield e((0,kt.y)()),e((0,Pt.M)(!0))},function(){var e=this,n=arguments;return new Promise((function(o,r){var a=t.apply(e,n);function s(e){It(a,o,r,s,l,"next",e)}function l(e){It(a,o,r,s,l,"throw",e)}s(void 0)}))});return function(){return n.apply(this,arguments)}}();return t&&!c&&n(),window.addEventListener("gamesUserCredentialChanged",n),()=>{window.removeEventListener("gamesUserCredentialChanged",n)}}),[t,c]),!a&&m)return jt;if(a){const e=((e,t)=>(0,Ct.Z)(new Date("".concat(t,"T12:00:00")),new Date("".concat(e,"T12:00:00"))))(d,m);if(e)return Lt}return{errorName:v,solutionEndpointError:g}};var xt=n(34419),zt=n(88494),Mt=n(28356);const Rt={user_id:1234,last_updated:1696438356,stats:{connections:{puzzles_completed:100,puzzles_won:85,last_played_print_date:"2024-05-27",current_streak:3,max_streak:25,mistakes:{0:35,1:22,2:14,3:17,4:2}}}},Gt={user_id:1234,last_updated:1696438356,stats:{connections:{puzzles_completed:0,puzzles_won:0,last_played_print_date:"2024-05-27",current_streak:0,max_streak:0,mistakes:{0:0,1:0,2:0,3:0,4:0}}}},Bt={user_id:1234,last_updated:1696438356,stats:{connections:{puzzles_completed:999999,puzzles_won:999999,last_played_print_date:"2024-05-27",current_streak:999999,max_streak:999999,mistakes:{0:999999,1:999999,2:999999,3:999999,4:999999}}}},Zt={user_id:1234,last_updated:1696438356,stats:{connections:{puzzles_completed:1,puzzles_won:1,last_played_print_date:"2024-05-27",current_streak:1,max_streak:1,mistakes:{0:1,1:1,2:1,3:1,4:1}}}},Ft={user_id:1234,last_updated:1696438356,stats:{}};var Ut=n(69537),Ht=e=>{let{fakeStats:t}=e;const{userType:n}=(0,l.aF)(),o=(0,s.v9)(A.On),a=(0,s.I0)(),i=(0,s.v9)($e.qo),c=(0,s.v9)(Ke.Jv)||(0,Xe.X)(o),{inShortzMode:u}=n,d=window.location.href.includes("useFakeStats=true")&&u,[m,p]=r.useState("default"),_="hidden",[f,g]=r.useState(_),v=()=>{g(f===_?JSON.stringify(i,null,2):_)},[b,y]=r.useState(!1),h=()=>{f!==_&&(navigator.clipboard.writeText(f),y(!0),setTimeout((()=>y(!1)),1e3))},E=()=>r.createElement(r.Fragment,null,r.createElement("div",{className:Mt.Z.stats__controls},r.createElement("select",{name:"Fake Stats Options",value:m,onChange:e=>{const{value:n}=e.target;var o;p(n),a("error"===n?Ut.N.mooglePostError({puzzleId:c.toString(),message:"forced error"}):"get-error"===n?Ut.N.multiStatesError({message:"forced error"}):(o=t[n],Ut.N.mooglePostSuccess({player:o,puzzleId:c.toString()})))}},r.createElement("option",{value:"default"},"Select fake stats"),r.createElement("option",{value:"average"},"Average"),r.createElement("option",{value:"newPlayer"},"New Player"),r.createElement("option",{value:"maxedOut"},"Maxed Out"),r.createElement("option",{value:"ones"},"Ones"),r.createElement("option",{value:"emptyStats"},"Empty Stats"),r.createElement("option",{value:"get-error"},"Get error"),r.createElement("option",{value:"error"},"Post error - select state first"))),r.createElement("button",{type:"button",onClick:v},"".concat(f===_?"Show":"Hide"," Response from API")),f!==_?r.createElement(r.Fragment,null,r.createElement("button",{type:"button",onClick:h},b?"Copied!":"Copy"),r.createElement("pre",{className:Mt.Z.json},f)):null);return r.createElement(r.Fragment,null,d&&r.createElement(E,null))},Xt=n(73851),Wt=n(33064),Vt=n(6697),Yt=n(30829),qt=e=>{let{close:t,isClosing:n,onRemove:o}=e;const{updateUserType:a}=(0,l.aF)(),{trackConnectionsClick:s,trackConnectionsImpression:i}=(0,R.Z)();(0,r.useEffect)((()=>{i("softregiwall","stats-regiwall")}),[]);const c=(0,Wt.Z)(window||void 0);return r.createElement(zt.Z,{bodyClassName:"modal-rules-body",close:()=>{t()},isClosing:n,onRemove:o},r.createElement("h2",{className:"modal-system-header"},"Statistics"),r.createElement("div",{className:Mt.Z.regiwall_abstract_stats}),r.createElement("div",{className:Mt.Z.regiwall_message,"data-testid":"regiwall_message"},r.createElement("h3",null,"Track your Connections stats."),r.createElement("p",null,"Register to follow your streaks, total completed puzzles, win rate and more."),r.createElement(Vt.Z,{className:"conn-anon-login",text:"Create a free account",onClick:e=>{s("register",null,"stats-regiwall"),(0,Yt.Z)(e,a,"&asset=connections-stats",c)}})))},Qt="HowToPlay-module_modalMessage__LMRqY",Jt="HowToPlay-module_categoryListItem__f8ujU";const Kt=()=>r.createElement("span",{"aria-hidden":"true",className:"HowToPlay-module_helpArrowContainer__ZOXOG"},r.createElement("span",{className:"HowToPlay-module_helpArrow__WMXx9"})),$t={0:"Straightforward",1:"Medium",2:"Difficult",3:"Tricky"},en=()=>r.createElement("ul",{className:"HowToPlay-module_categoryDifficultyKey__hgZTv"},r.createElement(Kt,null),[0,1,2,3].map(((e,t)=>r.createElement("li",{key:"level-".concat(t+1),className:"HowToPlay-module_categoryKeyItem__gdsNY","aria-label":"Level ".concat(t+1,": ").concat($t[e])},r.createElement("span",{className:C()("HowToPlay-module_categoryKeyColor__JABkw"),"aria-hidden":"true"}),r.createElement("span",{"aria-hidden":"true"},0===e||3===e?$t[e]:"")))));var tn=n(65489),nn=n(43401),on=n(85775),rn={dialog:"Settings-module_dialog__sce5z",dialogTitle:"Settings-module_dialogTitle__WvBEr",description:"Settings-module_description__o368F",term:"Settings-module_term__OnWQt",detail:"Settings-module_detail__aw6L1"};const an={[Ie.P.SETTINGS]:e=>{let{close:t,isClosing:n,onRemove:o}=e;const a=!window.isHybridWebView||(0,nn.Cb)(window.gamesAppVersion,"4.53"),{trackConnectionsClick:s}=(0,R.Z)();return r.createElement(zt.Z,{bodyClassName:C()("modal-settings-body",rn.modalWrapper),close:t,isClosing:n,onRemove:o},r.createElement("div",{className:rn.dialog},r.createElement("h2",{className:rn.dialogTitle},"SETTINGS"),r.createElement("dl",null,r.createElement("div",{className:rn.description},r.createElement("dt",{className:rn.term},"Feedback"),r.createElement("dd",{className:rn.detail},r.createElement(on.Z,{subject:"Connections Feedback",useEnhancedHybridDebugInfo:!0,type:tn.N1.CUSTOM,tracking:()=>s("email-feedback",null,"settings")},"Email"))),a&&r.createElement("div",{className:rn.description},r.createElement("dt",{className:rn.term},"Report a Bug"),r.createElement("dd",{className:rn.detail},r.createElement(on.Z,{subject:"Connections Bug Report",useEnhancedHybridDebugInfo:!0,type:tn.N1.CUSTOM,tracking:()=>{s("report-bug",null,"settings")}},"Email"))),r.createElement("div",{className:rn.description},r.createElement("dt",{className:rn.term},"Questions"),r.createElement("a",{href:"https://help.nytimes.com/hc/en-us/articles/28525912587924-Connections",target:"_blank",rel:"noreferrer"},r.createElement("dd",{className:rn.detail},"FAQ"))))))},[Ie.P.HOW_TO_PLAY]:e=>{let{close:t,isClosing:n,onRemove:o}=e;const{trackConnectionsImpression:a,trackConnectionsClick:s}=(0,R.Z)();return(0,r.useEffect)((()=>{a("help")}),[]),r.createElement(zt.Z,{bodyClassName:"modal-rules-body",close:()=>{s("close",null,"help"),t()},isClosing:n,onRemove:o},r.createElement("div",null,r.createElement("h2",{"data-testid":"conn-modal__title",className:"modal-system-header"},"How to Play"),r.createElement("p",{className:"modal-system-description"},"Find groups of four items that share something in common."),r.createElement("ul",{className:"bullet-list"},r.createElement("li",{className:"modal-system-body"},"Select four items and tap '",r.createElement("span",{className:"HowToPlay-module_bold__L0MTl"},"Submit"),"' to check if your guess is correct."),r.createElement("li",{className:"modal-system-body"},"Find the groups without making ",O.oM," mistakes!")),r.createElement("h4",{className:"HowToPlay-module_modalHeading__Y56mA"},"Category Examples"),r.createElement("dl",{className:C()("modal-system-body","HowToPlay-module_categoryList__s4DmD")},r.createElement("span",{className:Jt},r.createElement("dt",null,"FISH:")," ",r.createElement("dd",null,"Bass, Flounder, Salmon, Trout")),r.createElement("span",{className:C()("modal-system-body",Jt)},r.createElement("dt",{"aria-label":"FIRE fill in the blank"},r.createElement("span",{"aria-hidden":"true"},"FIRE ___:"))," ",r.createElement("dd",null,"Ant, Drill, Island, Opal"))),r.createElement("p",{className:C()("modal-system-body",Qt)},'Categories will always be more specific than "5-LETTER-WORDS," "NAMES" or "VERBS."'),r.createElement("p",{className:C()("modal-system-body",Qt)},"Each puzzle has exactly one solution. Watch out for words that seem to belong to multiple categories!"),r.createElement("p",{className:C()("modal-system-body",Qt,"HowToPlay-module_categoryDifficultyDescription__O7CQe"),"aria-label":"Each group is assigned a level, which will be revealed to you as you solve."},r.createElement("span",{"aria-hidden":"true"},"Each group is assigned a color, which will be revealed as you solve:")),r.createElement(en,null)))},[Ie.P.STATS]:e=>{let{close:t,isClosing:n,onRemove:a}=e;const{userType:i}=(0,l.aF)(),c=!i.isLoggedIn,u=(0,s.v9)($e.qo),d=(0,s.v9)(P.JQ),m=(0,s.v9)(P.Yj).toString(),p=(0,s.v9)((e=>e.moogle.getPuzzleProgress.error)),_=!c&&p,f=(0,s.v9)(P.a0),g=()=>r.createElement("div",{className:Mt.Z.get_error,"data-testid":"stats__get_error"},r.createElement("div",{className:Mt.Z.error__icon}),r.createElement("p",null,"Oops, something went wrong.",r.createElement("br",null),"Please try again later.")),v=()=>{if(!u)return null;const{mistakes:e}=u,t=Math.max(...Object.values(e));return r.createElement("div",{className:Mt.Z.mistakes},r.createElement("h3",null,"MISTAKE DISTRIBUTION"),r.createElement("div",{className:Mt.Z.histogram_container},Object.keys(e).map((n=>{let o="20px";return e[n]>0&&(o="".concat(e[n]/t*100,"%")),r.createElement("div",{className:Mt.Z.histogram_row,key:n,"data-testid":"stats__histogram_row"},r.createElement("p",null,n)," ",r.createElement("div",{className:C()(Mt.Z.histogram_bar,d&&m===n&&Mt.Z.todays_mistakes),style:{width:"".concat(o)},"data-testid":"stats__histogram_bar"},e[n]))}))))};return c?r.createElement(qt,{close:()=>{t()},isClosing:n,onRemove:a}):r.createElement(zt.Z,{bodyClassName:"modal-stats-body",close:()=>{t()},isClosing:n,onRemove:a},r.createElement("div",{className:Mt.Z.stats_container},r.createElement("h2",{"data-testid":"conn-modal__title",className:"modal-system-header"},"Statistics"),_?r.createElement(g,null):r.createElement(r.Fragment,null,r.createElement(Xt.Z,{statsData:u,showPostErrorMsg:f}),r.createElement(v,null),r.createElement("a",{href:"https://help.nytimes.com/hc/en-us/articles/28525912587924-Connections",className:Mt.Z.faq,target:"_blank",rel:"noreferrer"},"Have questions about stats? Read our FAQ",r.createElement("div",{className:Mt.Z.inline_carrot__icon})),r.createElement(Ht,{fakeStats:o}))))},[Ie.P.ARCHIVE_AWARENESS]:e=>{let{close:t,isClosing:n,onRemove:o,hideArchiveAwareness:a}=e;const{trackConnectionsImpression:s,trackConnectionsClick:l}=(0,R.Z)();return(0,r.useEffect)((()=>{s("tool-tip","archive")}),[]),r.createElement(zt.Z,{bodyClassName:C()("connections-archive-awareness","ArchiveAwareness-module_connectionsArchiveAwareness__VsgbX"),close:()=>{a&&a(),t()},isClosing:n,onRemove:o},r.createElement("div",{className:"ArchiveAwareness-module_imageModalContainer__pO1IY"}),r.createElement("div",{className:"ArchiveAwareness-module_ctaContainer__cb6D1"},r.createElement("h2",{className:"ArchiveAwareness-module_title__hW2dc"},"Introducing the Connections archive."),r.createElement("p",{className:"ArchiveAwareness-module_description__zSMLD"},"Now you can solve past puzzles and track your play history."),r.createElement("button",{type:"button",className:"ArchiveAwareness-module_button__DGDR5",onClick:()=>{l("archive",null,"tool-tip"),a&&a(),window.location.href="/connections.html/archive"}},"Explore")))}};var sn=()=>{var e;const{updateUserType:t,hasLoaded:n,userType:o}=(0,l.aF)(),w=(0,s.I0)(),S=(0,s.v9)(Ke.Jv),C=(0,s.v9)(A.On),O=(0,s.v9)(h.sB),k=(0,s.v9)(Tt),T=null===(e=(0,s.v9)($e.TT))||void 0===e?void 0:e.isLoading,P=(0,s.v9)(A.Hh);(0,g.Z)(t);const{winWidth:N}=(0,p.Z)(),{getVariant:I,reportExposure:L,hasAbraLoadedWithUser:j}=(0,i.Z)(),D=((0,m.Z)(),(0,d.Xj)()),x=!(0,d._7)()&&j&&!D;(0,u.qW)("connectionsArchiveSub",x),(0,u.qW)("connectionsArchiveRecentSub",x),(0,u.qW)("connectionsArchiveNonSub",x),(0,r.useEffect)((()=>{y.S.load("loading")}),[]);const z=(0,s.v9)(h.aX),M="game"===z||"congrats"===z,[R,G]=(0,r.useState)(!1),B=r.useRef(document.getElementById("portal-skip-nav"));(0,r.useEffect)((()=>{const e=document.getElementById("js-nav-burger"),t=document.getElementById("js-global-nav"),n=()=>(0,Et._)(e,t,!M,N);return null==e||e.addEventListener("click",n),()=>{null==e||e.removeEventListener("click",n)}}),[M,N]);const{errorName:Z,solutionEndpointError:F}=Dt();(0,f.Z)((e=>{const t={};O?(w((0,E.Mr)(!0)),t[b.Q5]=!0):t[b.Q5]=!1,e.respondWith(t)}),[O]),(0,v.Z)({analyticsPuzzleID:(0,Xe.X)(C).toString(),puzzleID:S||(0,Xe.X)(C),game:"connections"}),(0,r.useEffect)((()=>{R||(n&&!o.regiId||P||!1===T)&&G(!0)}),[T,n,o,P]),(0,r.useEffect)((()=>{M&&I(c.dQ)&&L(c.dQ)}),[M]);const{hideArchiveAwareness:U,showTooltip:H}=(()=>{const e=(0,s.I0)(),t=(0,s.v9)(A.Hh),n=(0,s.v9)(h.aX),{isHidden:o,hide:a}=(0,Je.U)("connections-archive-awareness",2),l=(0,Ot.r7)()&&!o&&!t,[i,c]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{"game"!==n&&"congrats"!==n||l&&(c(!0),setTimeout((()=>e((0,E.h7)(Ie.P.ARCHIVE_AWARENESS))),600))}),[l,n]),{hideArchiveAwareness:a,showTooltip:!i&&!l&&"congrats"!==n}})(),X=k&&n&&R&&j,W=F||Z;return r.createElement(r.Fragment,null,r.createElement(wt,{today:C}),r.createElement(y.Z,{onEnter:e=>w((0,E.vK)(e)),contentProps:{hasLoaded:X||!!F,today:C,transitionFromWelcomeToGame:()=>{y.S.transition("welcome","game")},transitionFromAdToGame:()=>{y.S.transition("ad","game")},transitionFromWelcomeToAd:()=>{y.S.transition("welcome","ad")}}}),r.createElement(xt.Z,{modalMap:an,portalId:"portal-modal-system",getOpenModalName:h.sB,getIsClosing:h.Nx,onClose:E.Mr,onRemove:E.a_,today:C,hideArchiveAwareness:U}),r.createElement(r.Fragment,null,M&&!W?r.createElement(r.Fragment,null,(()=>{if(B.current)return(0,a.createPortal)(r.createElement(_.Z,{associatedSectionId:"connections-container"}),B.current)})(),r.createElement(it,{today:C,showTooltip:H})):W&&r.createElement(ht,{showBackButton:!0,errorType:Z||"default"})))}},73851:function(e,t,n){n.d(t,{Z:function(){return m}});var o=n(89526),r=n(64403),a=n.n(r),s={flexContainer:"Stat-module_flexContainer__bOPnO",expandToRow:"Stat-module_expandToRow__oQ6Pt Stat-module_flexContainer__bOPnO",mobileColumn:"Stat-module_mobileColumn__rx8tV","visually-hidden":"Stat-module_visually-hidden___Poxf",stats__row:"Stat-module_stats__row__xnktL",stats__group:"Stat-module_stats__group__QokRc",stats__divider:"Stat-module_stats__divider__pi7dG",stat:"Stat-module_stat__xk7C1",locked:"Stat-module_locked__PplME",stats__icon:"Stat-module_stats__icon__J35vp",stat__label:"Stat-module_stat__label__Q5EYk",genius:"Stat-module_genius__HKzOf","queen-bee":"Stat-module_queen-bee__zekvO","stats__post-error":"Stat-module_stats__post-error__WPlS7",stats__controls:"Stat-module_stats__controls__PiGvv","api-json":"Stat-module_api-json__ANcvp",slideDown:"Stat-module_slideDown__oEE1Z",flyIn:"Stat-module_flyIn__NzUQo",flyOut:"Stat-module_flyOut__OX0ip",fadeIn:"Stat-module_fadeIn__Z6tPw"};const l=e=>{let{icon:t}=e;return o.createElement("div",{className:a()(s.stats__icon,s[t])})},i=e=>{let{children:t}=e;return o.createElement("div",{className:s.stats__row,"data-testid":"stats__row"},t)},c=e=>{let{id:t,label:n,children:r,icon:i,isLocked:c,link:u,onClick:d}=e;const m=o.createElement("div",{"data-testid":"stat-".concat(t),id:"stat__".concat(t),className:a()(s.stat,c&&s.locked)},o.createElement("div",{className:s.stat__value},r),o.createElement("div",{className:s.stat__label},i&&o.createElement(l,{icon:i}),n));return u&&d?o.createElement("a",{"data-testid":"subscribe-link",href:u,onClick:()=>d()},m):m};var u=n(95982),d=n(28356),m=e=>{let{statsData:t,showPostErrorMsg:n=!1,firstRowOnly:r=!1}=e;const{trackConnectionsImpression:s}=(0,u.Z)();if((0,o.useEffect)((()=>{if(!t)return;const{win_percentage:e,puzzles_completed:n,current_streak:o,max_streak:r,mistakes:a}=t;s("stats",["p: ".concat(n),"w: ".concat(e),"cs: ".concat(o),"ms: ".concat(r),"pp: ".concat(a[0]),"0: ".concat(a[0]),"1: ".concat(a[1]),"2: ".concat(a[2]),"3: ".concat(a[3]),"4: ".concat(a[4])])}),[t]),!t)return null;const{win_percentage:l,puzzles_completed:m,current_streak:p,max_streak:_,mistakes:f}=t,g=e=>Number(e).toLocaleString("en-US");return o.createElement(o.Fragment,null,n&&o.createElement("div",{className:d.Z.post_error,"data-testid":"stats__post_error"},o.createElement("div",{className:d.Z.inline_alert__icon}),"We couldn’t sync your stats. Try again in a few."),o.createElement("div",{className:a()("connections-lifetime-stats",d.Z.stats)},o.createElement(i,null,o.createElement(c,{id:"completed",label:"Completed","data-testid":"completed"},g(m)),o.createElement(c,{id:"win_percentage",label:"Win %","data-testid":"win_percentage"},l),o.createElement(c,{id:"current_streak",label:"Current Streak","data-testid":"current_streak"},g(p)),o.createElement(c,{id:"max_streak",label:"Max Streak","data-testid":"max_streak"},g(_))),r?null:o.createElement(i,null,o.createElement(c,{id:"perfect_puzzles",label:(v="Perfect Puzzle",b=f[0],1===b?v:"".concat(v,"s")),"data-testid":"perfect_puzzles"},g(f[0])))));var v,b}},3097:function(e,t,n){n.d(t,{X:function(){return a}});var o=n(51722);const r=864e5;function a(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date).setHours(0,0,0,0)-o.hd.setHours(0,0,0,0);let t=Math.round(e/r);return t<0&&(t=Math.abs(t)),t}},51722:function(e,t,n){n.d(t,{hd:function(){return s},nA:function(){return r},oM:function(){return o},pr:function(){return a},yw:function(){return l}});const o=4,r=4,a=4,s=new Date("".concat("2023-06-12","T00:00:00")),l=639},34543:function(e,t,n){n.d(t,{K8:function(){return l},Ux:function(){return i},j5:function(){return s},qQ:function(){return a}});var o=n(40826),r=n(74078);const a=e=>e.animation,s=(0,o.P1)(a,(e=>e.isAnimating)),l=(0,o.P1)(a,(e=>e.component===r.zH.CATEGORY&&e.effect===r.dp.CATEGORY_PULSE?e.level:-1)),i=((0,o.P1)(a,(e=>e.component)),e=>{let{selected:t,selectedIndex:n}=e;return(0,o.P1)(a,(e=>t&&e.effect===r.bi.CARD_SHAKE?{effect:r.bi.CARD_SHAKE}:t&&e.effect===r.bi.CARD_BOUNCE?{effect:r.bi.CARD_BOUNCE,timeout:n}:e.effect===r.bi.CARD_SHUFFLE?{effect:r.bi.CARD_SHUFFLE,selected:t}:void 0))})},89406:function(e,t,n){n.d(t,{NQ:function(){return c},XF:function(){return i},nO:function(){return u},oQ:function(){return d}});var o=n(97281);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}const a={isAnimating:!1,isMidway:!1},s=(0,o.createSlice)({name:"animation",initialState:a,reducers:{setAnimation(e,t){let{payload:n}=t;return n?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){var o,r,a,s;o=e,r=t,a=n[t],(r="symbol"==typeof(s=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r))?s:s+"")in o?Object.defineProperty(o,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[r]=a})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({isAnimating:!0,isMidway:!1},n):e},setMidway(e){e.isMidway=!0},unsetAnimation(){return a}}}),l=s.actions,{setAnimation:i,unsetAnimation:c,setMidway:u}=l,d=s.reducer},30157:function(e,t,n){n.d(t,{y:function(){return g},U:function(){return v}});var o=n(36629),r=n(47549),a=n(72059),s=n(44291);const l=(e,t)=>e.cards.split(",").map((e=>{var n;const o=parseInt(e),r=null===(n=t.find((e=>e.originalPosition===o)))||void 0===n?void 0:n.level;return void 0===r?null:{position:o,level:r}})).filter((e=>!!e)),i=(0,r.createSelector)([a.f_,s.dG],((e,t)=>e.map(((e,n)=>{var o;const r=l(e,t);return{cards:r,level:(null===(o=r[0])||void 0===o?void 0:o.level)||0,orderSolved:n+1}})))),c=(0,r.createSelector)([a.Mr,s.dG],((e,t)=>e.map((e=>({cards:l(e,t),correct:e.correct}))))),u=e=>e.map((e=>e.position)).join(",");var d=n(63448),m=n(38918),p=n(33234),_=n(17165);const f={game:"connections",selectPuzzleIdOrSettings:e=>{const t=(0,s.Jv)(e);return t?t.toString():""},selectPuzzlePrintDate:s.nf,selectMoogleState:e=>e.moogle,shouldSave:(e,t)=>{const n="game/makeGuess"===t.type,o="game/resetGame"===t.type;return n||o},selectPersistedState:e=>{var t;const n=(0,a.q_)(e),r=(0,a.JQ)(e),s=i(e),l=c(e),u=l.filter((e=>!e.correct)).length;let d=(0,_.Hh)(e);return null!==(t=window.gameData)&&void 0!==t&&t.connectionsShortzDate&&window.gameData.connectionsShortzDate!==(0,o.Z)(new Date,"yyyy-MM-dd")&&(d=!0),{puzzleComplete:r,puzzleWon:n,mistakes:u,guesses:l,solvedCategories:s,isPlayingArchive:d}},insertProgress:e=>(t,n)=>{const o=e?(e=>{const{guesses:t,solvedCategories:n}=e;return t.map((e=>{const t=u(e.cards),o=n.find((e=>u(e.cards)===t));return{cards:t,correct:e.correct,solvedLevel:o?o.level:null}}))})(e):[];t((0,p.YU)(o)),null!=e&&e.puzzleComplete&&t((0,p.Ey)())},handleMidGameLogin:(e,t)=>e||t,shouldPreventSaveAfterLoad:(e,t,n)=>(0,_.Hh)(n)&&!!e&&e.puzzleComplete},g=(0,d.L)(f),v=(0,m.d)(f)},72059:function(e,t,n){n.d(t,{C1:function(){return h},D1:function(){return N},Gp:function(){return j},JQ:function(){return D},K4:function(){return P},Kc:function(){return x},Lc:function(){return C},Mr:function(){return p},Q5:function(){return b},Sf:function(){return I},Xh:function(){return g},Yj:function(){return _},a0:function(){return z},a2:function(){return S},aB:function(){return y},cG:function(){return M},cZ:function(){return A},f_:function(){return f},kX:function(){return w},mZ:function(){return T},p2:function(){return E},q_:function(){return L},tn:function(){return O},zu:function(){return k}});var o=n(40826),r=n(34543),a=n(74078),s=n(51722),l=n(44291),i=n(17165),c=n(75541),u=n(3097),d=n(35451);const m=e=>e.game,p=(0,o.P1)(m,(e=>e.guesses)),_=(0,o.P1)(p,(e=>e.filter((e=>!e.correct)).length)),f=(0,o.P1)(p,(e=>e.filter((e=>e.correct)))),g=(0,o.P1)(f,(e=>e.length)),v=(0,o.P1)(f,(e=>e.map((e=>e.solvedLevel)))),b=(0,o.P1)(m,(e=>e.autoSolveStatus)),y=(0,o.P1)([m,b,v],((e,t,n)=>"complete"===t?new Array(s.pr).fill(!0).map(((e,t)=>t)).filter((e=>!n.includes(e))):e.autoSolvedLevels)),h=(0,o.P1)([v,y],((e,t)=>[...e,...t])),E=(0,o.P1)([l.j3,h,r.qQ],((e,t,n)=>{const{isMidway:o,effect:r}=n,s=r===a.dp.CATEGORY_PULSE&&!o,l=t.map((t=>e.find((e=>e.level===t))));return s?l.slice(0,-1):l})),w=(0,o.P1)(m,(e=>e.cardOrder)),S=(0,o.P1)([E,l.dG,w],((e,t,n)=>{const o=e.map((e=>e.level));return t.slice().sort(((e,t)=>n.indexOf(e.content)-n.indexOf(t.content))).filter((e=>!o.includes(e.level)))})),C=(0,o.P1)(m,(e=>e.selectedCards)),O=(0,o.P1)([C,l.dG],((e,t)=>e.map((e=>t.find((t=>t.content===e)))))),k=(0,o.P1)(O,(e=>{const t=[...new Set(e.map((e=>e.level)))],n=1===t.length;return{correct:n,cards:e.map((e=>e.originalPosition)).sort(((e,t)=>e-t)).join(","),solvedLevel:n?t[0]:null}})),T=(0,o.P1)([_,k,E],((e,t,n)=>{const o=e===s.oM-1&&!t.correct,r=n.length===s.pr-1&&t.correct;return o||r})),P=(0,o.P1)([m,l.dG],((e,t)=>{const n=new Map;return t.forEach((e=>{n.set(e.originalPosition.toString(),e.level)})),e.guesses.map((e=>e.cards.split(",").map((e=>n.get(e)))))})),N=e=>(0,o.P1)(l.dG,(t=>t.filter((t=>t.level===e)))),A=(0,o.P1)(m,(e=>e.isRecentlyGuessed)),I=(0,o.P1)([r.j5,b],((e,t)=>e||"in progress"===t)),L=(0,o.P1)(g,(e=>e===s.pr)),j=(0,o.P1)(_,(e=>e>=s.oM)),D=(0,o.P1)([L,j],((e,t)=>e||t)),x=(0,o.P1)([O,D],((e,t)=>(0,c.SY)(e)&&!t)),z=(0,o.P1)([l.Jv,e=>{var t;return null===(t=e.moogle)||void 0===t?void 0:t.postRequest}],((e,t)=>{var n;return e&&(null===(n=t[e.toString()])||void 0===n?void 0:n.error)||!1})),M=(0,o.P1)([P,i.On,i.Hh],((e,t,n)=>{const o={0:"🟨",1:"🟩",2:"🟦",3:"🟪"},r=e?e.map((e=>e.map((e=>o[e])).join(""))):[],a="".concat(r.join("\n")),s=(0,u.X)(t),l="Puzzle #".concat(s+1);if(n){const e=(0,d.F)(t);return"Archive ".concat(e,"\nConnections ").concat(l,"\n").concat(a)}return"Connections\n".concat(l,"\n").concat(a)}))},33234:function(e,t,n){n.d(t,{AS:function(){return m},Es:function(){return u},Ey:function(){return y},GR:function(){return d},H6:function(){return E},IO:function(){return f},L9:function(){return b},MR:function(){return h},Mq:function(){return v},YU:function(){return _},_X:function(){return g},r2:function(){return p}});var o=n(97281),r=n(51722),a=n(75541),s=n(20090);const l={guesses:[],autoSolveStatus:"not started",autoSolvedLevels:[],isRecentlyGuessed:!1,selectedCards:[],cardOrder:[]},i=(0,o.createSlice)({name:"game",initialState:l,reducers:{setInitialCardOrder(e,t){e.cardOrder=t.payload.slice().sort(((e,t)=>e.originalPosition-t.originalPosition)).map((e=>e.content))},toggleCard(e,t){const n=e.selectedCards.indexOf(t.payload);n>-1?e.selectedCards.splice(n,1):e.selectedCards.push(t.payload),e.isRecentlyGuessed=!1},deselectAllCards(e){e.selectedCards=[]},reorderSolvedCards(e,t){const n=(e=>e.guesses.filter((e=>e.correct)).map((e=>e.solvedLevel)))(e).concat(e.autoSolvedLevels).slice(0,-1),o=t.payload.cards.filter((e=>!n.includes(e.level))).sort(((t,n)=>e.cardOrder.indexOf(t.content)-e.cardOrder.indexOf(n.content))),a=o.slice(0,r.nA),s=o.slice(r.nA),l=a.filter((e=>e.level!==t.payload.solvedLevel)),i=s.filter((e=>e.level===t.payload.solvedLevel));l.forEach(((t,n)=>{((t,n)=>{const o=e.cardOrder.indexOf(t),r=e.cardOrder.indexOf(n);e.cardOrder[r]=t,e.cardOrder[o]=n})(t.content,i[n].content)}))},shuffleUnsolvedCards(e){e.cardOrder=(0,s.TV)(e.cardOrder,!0)},setGuesses(e,t){e.guesses=t.payload},makeGuess(e,t){const n=(0,a.Y5)(t.payload.cards);t.payload.cards=n,e.guesses.push(t.payload),e.isRecentlyGuessed=!0},resetGame(){return l},startAutoSolve(e){e.autoSolveStatus="in progress"},setAutoSolveLevel(e,t){const n=t.payload;n===r.pr?e.autoSolveStatus="complete":e.autoSolvedLevels.push(n)},completeAutosolve(e){e.autoSolveStatus="complete"}}}),c=i.actions,{setInitialCardOrder:u,toggleCard:d,deselectAllCards:m,reorderSolvedCards:p,setGuesses:_,makeGuess:f,resetGame:g,setAutoSolveLevel:v,startAutoSolve:b,completeAutosolve:y,shuffleUnsolvedCards:h}=c,E=i.reducer},40667:function(e,t,n){n.d(t,{Lv:function(){return v},x8:function(){return y},ip:function(){return E},U9:function(){return b},EX:function(){return h}});var o=n(44291),r=n(75541),a=n(65489),s=n(3097),l=n(51722),i=n(25948),c=n(89979),u=n(74078),d=n(89406),m=n(82786),p=n(73917),_=n(17165),f=n(72059),g=n(33234);const v=()=>(e,t)=>{const n=(0,f.C1)(t());let o=0;for(;o<l.pr&&n.includes(o);)o+=1;return e((0,g.Mq)(o)),o},b=()=>(e,t)=>{(0,f.Gp)(t())&&(e((0,g.AS)()),e((0,m.eS)(p.n.REVEAL_MISTAKE_TITLE)),e((0,g.L9)()))},y=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return(t,n)=>{const r=(0,f.p2)(n()),a=(0,o.dG)(n()),s=(0,f.zu)(n()),_=(0,f.q_)(n()),v=null!=e?e:s.solvedLevel;r.length===l.pr?(_&&t((0,m.eS)(p.n.REVEAL_MISTAKE_TITLE)),setTimeout((()=>{i.S.transition("game","congrats")}),c.Gf)):t((0,g.r2)({solvedLevel:v,cards:a})),t((0,d.XF)({component:u.zH.CATEGORY,effect:u.dp.CATEGORY_PULSE,level:v,animationTimeout:2*c.Vb}))}},h=()=>(e,t)=>{const n=(0,f.zu)(t());e((0,g.IO)(n)),n.correct?e(y()):e(((e,t)=>{const n=(0,f.Kc)(t());e((0,d.XF)({component:u.zH.CARD,effect:u.bi.CARD_SHAKE,animationTimeout:c.C6,afterEffect:u.YV.ON_POTENTIAL_LOSS})),n&&e((0,m.eS)(p.n.ONE_AWAY))}))},E=()=>(e,t)=>{const n=(0,f.tn)(t()),o=(0,f.Mr)(t()),l=(0,f.Yj)(t()),i=(0,_.On)(t()),g=(0,_.wJ)(t()),v=(0,f.zu)(t()),b=(0,f.mZ)(t());if((0,r.Lw)(o,v))return void e((0,m.eS)(p.n.ALREADY_GUESSED));const y=v.correct?c.NC:c.C6;e((0,d.XF)({component:u.zH.CARD,effect:u.bi.CARD_BOUNCE,animationTimeout:y,afterEffect:u.YV.SUBMIT_GUESS})),function(e,t,n,o,r,l){const i=["r: ".concat(e?"pass":"fail"),"w: ".concat(t.map((e=>e.content)).join(",")),"d: ".concat(e?(n||0)+1:null),"m: ".concat(e?o:o+1)];(0,a.ob)({name:"connections",label:"solve-attempt",context:s.X(r),moduleName:l,moduleLabel:i})}(v.correct,n,v.solvedLevel,l,i,g),b&&function(e,t,n,o){const r=["o: ".concat(e.filter((e=>e.correct)).map((e=>(e.solvedLevel||0)+1)).join(",")),"m: ".concat(t)];(0,a.ob)({name:"connections",label:"100%-complete",context:s.X(n),moduleName:o,moduleLabel:r})}([...o,v],v.correct?l:l+1,i,g)}},39578:function(e,t,n){n.d(t,{h:function(){return E}});var o=n(72669),r=n(97281),a=n(62738),s=n(96205),l=n(33234),i=n(82786),c=n(89406),u=n(33738),d=n(36629),m=n(95609);const p=(0,r.createSlice)({name:"printDate",initialState:()=>{const e=window.connectionsArchiveDate,t=(0,d.Z)((0,m.Y)({gameDataKey:m.I.CONNECTIONS}),"yyyy-MM-dd");return{isArchive:!!e,dateString:e||t}},reducers:{}}).reducer;var _=n(74078),f=n(40667),g=n(34543);const v=(0,r.createListenerMiddleware)();v.startListening({actionCreator:c.XF,effect:(e,t)=>{const{animationTimeout:n}=e.payload,o=n&&Math.round(n/2);setTimeout((()=>{t.dispatch((0,c.nO)())}),o),setTimeout((()=>{t.dispatch((0,c.NQ)())}),n)}}),v.startListening({actionCreator:c.NQ,effect:(e,t)=>{const n=t.getOriginalState();switch((0,g.qQ)(n).afterEffect){case _.YV.ON_POTENTIAL_LOSS:t.dispatch((0,f.U9)());break;case _.YV.SUBMIT_GUESS:t.dispatch((0,f.EX)())}}});var b=v,y=n(30157);const h=(0,o.UY)({[a.X.reducerPath]:a.X.reducer,animation:c.oQ,game:l.H6,overlays:i.Vj,loading:u.V,printDate:p,moogle:s.b}),E=(0,r.configureStore)({reducer:h,preloadedState:undefined,middleware:e=>e().concat(a.X.middleware).concat(y.U).prepend(b.middleware)})},33738:function(e,t,n){n.d(t,{M:function(){return r},V:function(){return a}});const o=(0,n(97281).createSlice)({name:"loading",initialState:{isConnectionsLoaded:!1},reducers:{setIsConnectionsFullyLoaded(e,t){e.isConnectionsLoaded=t.payload}}}),{setIsConnectionsFullyLoaded:r}=o.actions,a=o.reducer},75539:function(e,t,n){n.d(t,{Nx:function(){return l},_h:function(){return s},aX:function(){return d},my:function(){return c},sB:function(){return a},xf:function(){return u}});var o=n(40826);const r=e=>e.overlays.modals,a=(0,o.P1)(r,(e=>e.name)),s=(0,o.P1)(a,(e=>!!e)),l=(0,o.P1)(r,(e=>e.isClosing)),i=e=>e.overlays.toasts,c=(0,o.P1)(i,(e=>e.name)),u=((0,o.P1)(c,(e=>!!e)),(0,o.P1)(i,(e=>e.isClosing))),d=(0,o.P1)((e=>e.overlays.moment),(e=>e.currentMoment))},82786:function(e,t,n){n.d(t,{Mr:function(){return i},RS:function(){return f},Vj:function(){return h},a_:function(){return c},eS:function(){return p},h7:function(){return l},vK:function(){return b},yg:function(){return _}});var o=n(97281),r=n(72669);const a={name:null,isClosing:!1},s=(0,o.createSlice)({name:"modal",initialState:a,reducers:{openModal(e,t){e.name=t.payload,e.isClosing=!1},closeModal(e,t){e.name=null,e.isClosing=!0},removeModal(e){return a}}}),{openModal:l,closeModal:i,removeModal:c}=s.actions,u=s.reducer,d={name:null,isClosing:!1},m=(0,o.createSlice)({name:"toast",initialState:d,reducers:{openToast(e,t){e.name=t.payload,e.isClosing=!1},closeToast(e,t){e.name=null,e.isClosing=!0},removeToast(e){return d}}}),{openToast:p,closeToast:_,removeToast:f}=m.actions,g=m.reducer,v=(0,o.createSlice)({name:"moment",initialState:{currentMoment:"loading"},reducers:{setCurrentMoment(e,t){e.currentMoment=t.payload}}}),{setCurrentMoment:b}=v.actions,y=v.reducer,h=(0,r.UY)({modals:u,toasts:g,moment:y});m.actions,s.actions,v.actions},73917:function(e,t,n){n.d(t,{P:function(){return o},n:function(){return r}});let o=function(e){return e.HOW_TO_PLAY="howToPlay",e.SETTINGS="settings",e.STATS="stats",e.ARCHIVE_AWARENESS="archiveAwareness",e}({}),r=function(e){return e.ALREADY_GUESSED="alreadyGuessed",e.ONE_AWAY="oneAway",e.REVEAL_MISTAKE_TITLE="revealMistakeTitle",e.COPY_RESULTS="onCopy",e.SHARE_FAIL="onFail",e}({})},30674:function(e,t,n){n.d(t,{TT:function(){return i},bh:function(){return m},lR:function(){return p},qo:function(){return d}});var o=n(40826),r=n(44291),a=n(42101);const s=e=>e.moogle,l=(0,o.P1)(s,(e=>null==e?void 0:e.postRequest)),i=(0,o.P1)([l,r.Jv],((e,t)=>null!==t?null==e?void 0:e[t]:null)),c=((0,o.P1)(i,(e=>null==e?void 0:e.isLoading)),(0,o.P1)(s,(e=>e.player))),u=(0,o.P1)(c,(e=>e&&e.stats?e.stats.connections:null)),d=(0,o.P1)(u,(e=>{if(!e)return null;const{puzzles_won:t=0,puzzles_completed:n=0,current_streak:o=0,max_streak:r=0,mistakes:a={}}=e;let s=(t/n*100).toFixed(0);return"NaN"===s&&(s="0"),"Infinity"===s&&(s="0"),{puzzles_won:t,puzzles_completed:n,current_streak:o,max_streak:r,mistakes:a,win_percentage:s}})),m=(0,o.P1)(u,(e=>e?e.current_streak:null)),p=(0,o.P1)(s,a.Z0)},17165:function(e,t,n){n.d(t,{Dv:function(){return i},Hh:function(){return c},On:function(){return l},UQ:function(){return u},_2:function(){return s},wJ:function(){return d}});var o=n(47549),r=n(4243),a=n(3097);const s=e=>e.printDate.dateString,l=(0,o.createSelector)(s,(e=>(0,r.Z)(e,"yyyy-MM-dd",new Date))),i=(0,o.createSelector)(l,a.X),c=e=>e.printDate.isArchive,u=(0,o.createSelector)(s,(e=>{const[t,n]=e.split("-");return"/connections.html/archive/".concat(t,"/").concat(n)})),d=(0,o.createSelector)([s,c],((e,t)=>({date:e,t:"".concat(t?"archive":"today")})))},95982:function(e,t,n){var o=n(76359),r=n(65489),a=n(17165);t.Z=()=>{const e=(0,o.v9)(a.Dv),t=(0,o.v9)(a.wJ);return{trackConnectionsClick:(n,o,a)=>{(0,r.LW)({element:{name:"connections",label:n},context:e,name:t,label:o,region:a})},trackConnectionsImpression:(t,n)=>{(0,r.hX)(t,"connections",n,e.toString())}}}},89979:function(e,t,n){n.d(t,{C6:function(){return a},Gf:function(){return l},NC:function(){return s},Vb:function(){return r},ie:function(){return o}});const o=250,r=500,a=1e3,s=a+200,l=2*a},74078:function(e,t,n){n.d(t,{Dh:function(){return r},YV:function(){return i},bi:function(){return s},dp:function(){return l},r9:function(){return o},zH:function(){return a}});const o={0:"Perfect",1:"Great",2:"Solid",3:"Phew",4:"Next Time"},r={0:"Perfect",1:"Great",2:"Solid",3:"Phew",4:"Thanks for Playing"};let a=function(e){return e.CATEGORY="category",e.CARD="card",e}({}),s=function(e){return e.CARD_SHAKE="cardShake",e.CARD_BOUNCE="cardBounce",e.CARD_SHUFFLE="cardShuffle",e}({}),l=function(e){return e.CATEGORY_PULSE="categoryPulse",e}({}),i=function(e){return e.ON_POTENTIAL_LOSS="onPotentialLoss",e.SUBMIT_GUESS="submitGuess",e}({})},20090:function(e,t,n){n.d(t,{Dc:function(){return r},Ds:function(){return a},TV:function(){return o}});const o=(e,t)=>{const n=[...e];let r=n.length;for(;r;){r-=1;const a=Math.floor(Math.random()*r),s=n[r];if(n[r]=n[a],n[a]=s,t&&(e[r]===n[r]||e[a]===n[a]))return o(e,!0)}return n},r=e=>new Promise((t=>{setTimeout(t,e)})),a=(e,t)=>{let n;return function(){for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];const s=this;clearTimeout(n),n=setTimeout((()=>e.apply(s,r)),t)}}},33064:function(e,t,n){n.d(t,{U:function(){return i}});var o=n(65489),r=n(86128);const a=window.location.origin+window.location.pathname,s=(0,r.f0)({redirect_uri:encodeURIComponent(a),response_type:"cookie",client_id:"games",application:"crosswords"}),l="".concat(o.OB.account,"/auth/enter-email?").concat(s),i=function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,n=arguments.length>1?arguments[1]:void 0;const a=(null==t||null===(e=t.navigationLinks)||void 0===e?void 0:e.login)||"";return(0,r.I3)(a)?a:n?(0,o.T0)(l,n):l};t.Z=i},5123:function(e,t,n){n.d(t,{$K:function(){return r}});const o=(e,t)=>{try{return localStorage.getItem(e)||t}catch(e){return t}},r=e=>{const t="wordle-legacy-stats-",n="".concat(t,"ANON"),r="".concat(t).concat(e);return{anon:o(n,"[NONE]"),regi:o(r,"[NONE]")}}},24064:function(e,t,n){n.d(t,{D:function(){return o}});const o=n(76359).v9},95280:function(e,t,n){n.d(t,{fb:function(){return o}}),new Date(2021,5,19,0,0,0,0);const o="abcdefghijklmnopqrstuvwxyz"},34458:function(e,t,n){n.d(t,{O1:function(){return c},pG:function(){return i},qW:function(){return u}});var o=n(89526),r=n(57256);const a=["activationRegiModal","activationRegiModalControl","loginOffer","letterboxedWelcome","gamesSaleCTA","gamesSaleBanner","authFlowConnections","connectionsArchiveSub","connectionsArchiveNonSub","connectionsArchiveRecentSub","connectionsArchiveAllButHoldout","hdUpsellTest","hdUpsellTestControl","wordleCalculatedStreakCutover","wordleCalculatedStatsCutover","miniArchivePaywallControl","miniArchivePaywallRedesignV1","miniArchivePaywallRedesignV2","sbDarkMode","zorseNav","strandsDarkMode","connectionsDarkMode"],s={activationRegiModal:{testName:"ON_wordle_regi_modal",activeVariant:"1_regi_modal"},activationRegiModalControl:{testName:"ON_wordle_regi_modal",activeVariant:"0_control"},loginOffer:{testName:"ON_wordleOnboardingOffer_0822",activeVariant:"1_ShowOffer"},letterboxedWelcome:{testName:"GAMES_letter_boxed_welcome_0328",activeVariant:"1_NewLetterBoxedWelcome"},gamesSaleCTA:{testName:"MWD_phoenix_games_sale_cta",activeVariant:"1_Show"},gamesSaleBanner:{testName:"MWD_phoenix_games_sale_banner",activeVariant:"1_Show"},authFlowConnections:{testName:"GAMES_connections_auth_web_1016",activeVariant:"1_Auth_Flow"},connectionsArchiveSub:{testName:"GAMES_conn_archive_sub_0805",activeVariant:"1_conn_archive"},connectionsArchiveNonSub:{testName:"GAMES_conn_archive_nonsub_0805",activeVariant:"1_conn_archive"},connectionsArchiveRecentSub:{testName:"GAMES_conn_archive_newsub_0805",activeVariant:"1_conn_archive"},connectionsArchiveAllButHoldout:{testName:"GAMES_conn_archive_all_but_holdout_0924",activeVariant:"1_conn_archive"},hdUpsellTest:{testName:"CONV_GUAC_XWord_HDUpsell_Test_0624",activeVariant:"1_upsell"},hdUpsellTestControl:{testName:"CONV_GUAC_XWord_HDUpsell_Test_0624",activeVariant:"0_control"},wordleCalculatedStreakCutover:{testName:"GAMES_wordleCalculatedStreakCutover_0624",activeVariant:"1_Cutover"},wordleCalculatedStatsCutover:{testName:"GAMES_wordleCalculatedStatsCutover_0724",activeVariant:"1_Cutover"},miniArchivePaywallControl:{testName:"CONV_GUAC_MINI_ARCHIVE_PAYWALL_REDESIGN_0924",activeVariant:"0_control"},miniArchivePaywallRedesignV1:{testName:"CONV_GUAC_MINI_ARCHIVE_PAYWALL_REDESIGN_0924",activeVariant:"1_new_design"},miniArchivePaywallRedesignV2:{testName:"CONV_GUAC_MINI_ARCHIVE_PAYWALL_REDESIGN_0924",activeVariant:"2_new_design"},sbDarkMode:{testName:"GAMES_sbDarkMode_0916",activeVariant:"1_enabled"},zorseNav:{testName:"GAMES_zorseNav_0924",activeVariant:"1_ShowZorse"},strandsDarkMode:{testName:"GAMES_strandsDarkMode_0916",activeVariant:"1_enabled"},connectionsDarkMode:{testName:"GAMES_connectionsDarkMode_0926",activeVariant:"1_enabled"}},l=e=>a.reduce(((t,n)=>{if(e){const{testName:o,activeVariant:r}=s[n];t[n]=e(o)===r}else t[n]=!1;return t}),{}),i=o.createContext(l()),c=e=>{let{children:t}=e;const{getVariant:n}=(0,r.Z)(),s=l(n),[c,u]=o.useState(s);return o.useEffect((()=>{var e,t;e=s,t=c,a.some((n=>e[n]!==t[n]))&&u(s)}),[s]),o.createElement(i.Provider,{value:c},t)},u=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=(0,r.Z)(),{testName:a}=s[e],l=!!n.getVariant(a);o.useEffect((()=>{l&&t&&n.reportExposure(a)}),[l,t])}},57256:function(e,t,n){var o=n(89526),r=n(29684);t.Z=()=>(0,o.useContext)(r.Z)},155:function(e,t,n){n.d(t,{F2:function(){return d},UF:function(){return u},VC:function(){return i},r7:function(){return c}});var o=n(69802),r=n(43401),a=n(57256),s=n(89064);const l=()=>{const{hasAbraLoadedWithUser:e}=(0,a.Z)(),t=(0,s.Z)("connectionsArchiveSub"),n=(0,s.Z)("connectionsArchiveNonSub"),o=(0,s.Z)("connectionsArchiveRecentSub"),r=(0,s.Z)("connectionsArchiveAllButHoldout");return e&&(t||n||o||r)},i=()=>{const e=l();return!(0,o._7)()&&(!!window.gamesAppPlatform||e)},c=()=>{const e=l();return!(0,o._7)()&&!(0,o.Xj)()&&e},u=()=>{const e=(0,s.Z)("connectionsArchiveAllButHoldout");return!(0,o._7)()&&!(0,o.Xj)()&&e},d=e=>(()=>{const e=l(),t=(0,r.$1)()?"1_ConnectionsArchive"===(null===(n=window.config)||void 0===n||null===(n=n.AbraConfig)||void 0===n?void 0:n.GAMES_AndroidConnectionsArchive_0924):!!(0,r.P_)()&&"1_ConnectionsArchive"===(null===(a=window.config)||void 0===a||null===(a=a.AbraConfig)||void 0===a?void 0:a.GAMES_iOSConnectionsArchive_0924);var n,a;return!(0,o._7)()&&((0,o.Xj)()?t:e)})()?e?["connections-archive"]:["connections-archive-today","spelling-bee"]:["spelling-bee"]},65489:function(e,t,n){n.d(t,{$g:function(){return c.$g},Be:function(){return h.B},Fg:function(){return m.Fg},LW:function(){return c.LW},Mk:function(){return l.Mk},N1:function(){return p.N},OB:function(){return r.OB},T0:function(){return r.T0},Tv:function(){return m.Tv},abra:function(){return _.Fi},ec:function(){return l.ec},hX:function(){return c.hX},iU:function(){return r.iU},j:function(){return c.j},j0:function(){return r.j0},kh:function(){return r.kh},lY:function(){return m.lY},ob:function(){return c.ob},wC:function(){return s.wC},xD:function(){return l.xD}});var o=n(74395),r=n(22042),a=n(96303),s=n(31069),l=n(73649),i=n(67719),c=n(41586),u=n(48198),d=n(33104),m=n(89936),p=n(27489),_=n(42714),f=n(6756),g=n(49808),v=n(72811),b=n(73972),y=n(53212),h=n(93251);if((0,p.Z)(),(0,c.U9)(),(0,m.ZP)(u.win.sentryConfig),(0,v.Z)(u.win.datadogRumConfig),(0,o.Z)(),_.Fi.init(),u.win.isHybridWebView||"wordle"===u.win.pageName||i.U.initialize(),"connections"===u.win.pageName&&"prod"!==u.win.env.name&&(0,y.Z)(),(0,l.t6)(),(0,i.q)(),r.G7)u.win.dataLayer=[];else{const e=(0,a.pg)();if(!e){const e="DFP_Prebid_0624",t=_.Fi.getVariant(e);t&&_.Fi.reportExposure(e),(0,a.He)(),(0,a.I5)(t),(0,f.Z)((0,a.Qx)()),(0,b.YU)()}u.win.addEventListener("load",(()=>{(0,s.IX)(),(0,d.Z)(),e||(0,a.YY)((0,g.Z)(u.win),_.Fi.getTests()),(0,c.Sv)()}))}},54988:function(e,t,n){n.d(t,{Bj:function(){return r},Gk:function(){return o},sN:function(){return u}});const o=new Date("06/10/2024 10:00:00 GMT-0400"),r=(o.getTime(),new Date("07/22/2024 12:00:00 GMT-0400")),a=(r.getTime(),new Date("06/24/2024 10:00:00 GMT-0400")),s=new Date("07/08/2024 10:00:00 GMT-0400"),l=new Date("07/18/2024 10:00:00 GMT-0400"),i=new Date("07/20/2024 10:00:00 GMT-0400"),c=new Date("07/21/2024 10:00:00 GMT-0400"),u={acqMessage:"Subscribe for 50% off",shortMessage:"Save 50% on Games",upgradeMessage:"Upgrade and save",campaignId:"89RW9",urgency:[{color:"dark_yellow",copy:"Final Hours",shortCopy:"Final Hours",startDate:new Date("07/21/2024 18:00:00 GMT-0400").getTime()},{color:"dark_yellow",copy:"Ends Today",shortCopy:"Ends Today",startDate:c.getTime()},{color:"dark_yellow",copy:"Ends Tomorrow",shortCopy:"Ends Tomorrow",startDate:i.getTime()},{color:"dark_yellow",copy:"Ends Soon",shortCopy:"Ends Soon",startDate:l.getTime()},{color:"green",copy:"Time is running out",shortCopy:"Time is running out",startDate:s.getTime()},{color:"green",copy:"Offer Won’t Last",shortCopy:"Offer Won’t Last",startDate:a.getTime()},{color:"black",copy:"Limited Time Offer",shortCopy:"Limited Time Offer",startDate:o.getTime()}]}},83910:function(e,t,n){n.d(t,{e_:function(){return i},fp:function(){return a},iM:function(){return c},rl:function(){return s}});var o=n(42101);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}const a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{const n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(e){return console.error(e),t}},s=(e,t)=>{try{return window.localStorage.setItem(e,JSON.stringify(t)),!0}catch(e){return console.error(e),!1}},l=(e,t,n)=>{const o="games-".concat(t?"settings":"state");return"".concat(o,"-").concat(e,"/").concat(n||"ANON")},i=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const s=e.selectPuzzleIdOrSettings(t),i=(0,o.X)(e,t),c=n?void 0:(0,o.Mc)(e,t),u=((e,t,n,o)=>{const r=l(e,n,o),s=a(r);return(null==s?void 0:s.states.find((e=>e.puzzleId===t)))||null})(e.game,s,i,c);return u?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){var o,r,a,s;o=e,r=t,a=n[t],(r="symbol"==typeof(s=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r))?s:s+"")in o?Object.defineProperty(o,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[r]=a})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({schemaVersion:u.schemaVersion,timestamp:u.timestamp},u.data):null},c=(e,t)=>(n,r)=>{const i=t.maxLocalStorageSize||1,c=(0,o.Mc)(t,r()),u=(0,o.X)(t,r()),d=l(t.game,u,c),{states:m}=a(d)||{states:[]};if(m.find((t=>t.puzzleId===e.puzzleId))){const t={states:m.map((t=>t.puzzleId===e.puzzleId?e:t))};return s(d,t),null}if(m.length>=i){const t=m.sort(((e,t)=>e.timestamp-t.timestamp))[0],n={states:m.map((n=>n.puzzleId===t.puzzleId?e:n))};return s(d,n),t}const p={states:[...m,e]};return s(d,p),null}},42101:function(e,t,n){function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){var o,r,a,s;o=e,r=t,a=n[t],(r="symbol"==typeof(s=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r))?s:s+"")in o?Object.defineProperty(o,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[r]=a})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,{DX:function(){return m},Mc:function(){return i},X:function(){return s},Z0:function(){return p},eV:function(){return d},g2:function(){return a},gQ:function(){return c},qQ:function(){return u},wG:function(){return l}});const a=e=>"settings"===e,s=(e,t)=>a(e.selectPuzzleIdOrSettings(t)),l=(e,t)=>{const n=s(e,t),o=((e,t)=>{const n=e.selectPuzzleIdOrSettings(t);return e.selectMoogleState(t).getPuzzleProgress.statesByPuzzleId[n]||null})(e,t),a=((e,t)=>e.selectMoogleState(t).getRemoteSettings.data||null)(e,t);return n&&null!=a&&a.settings?r({timestamp:a.timestamp,schemaVersion:a.schema_version||""},a.settings):!n&&null!=o&&o.game_data?r({timestamp:o.timestamp,schemaVersion:o.schema_version},o.game_data):null},i=(e,t)=>e.selectMoogleState(t).regiId,c=(e,t)=>{const{postRequest:n}=e.selectMoogleState(t);return Object.keys(n).some((e=>n[e].isLoading))},u=(e,t)=>e.selectMoogleState(t).pendingSaves,d=(e,t)=>u(e,t).length>0,m=(e,t)=>{var n;const{postRequest:o}=e.selectMoogleState(t);return null===(n=o[e.selectPuzzleIdOrSettings(t)])||void 0===n?void 0:n.isErrorRetry},p=e=>{let{player:t}=e;return t&&t.badgesAlpha?Object.keys(t.badgesAlpha).map((e=>{var n;return r(r({},null===(n=t.badgesAlpha)||void 0===n?void 0:n[e]),{},{uniqueId:e})})).filter((e=>{const{earned_at:t=[],notified_at:n=[]}=e;let o=t.length-1;for(;o>-1&&-1===t[o];)o-=1;return!(o<0)&&!(n[o]&&n[o]>0)})):[]}},28356:function(e,t){t.Z={flexContainer:"Stats-module_flexContainer__hDS1o",expandToRow:"Stats-module_expandToRow__RabuU Stats-module_flexContainer__hDS1o",mobileColumn:"Stats-module_mobileColumn___2VAh","visually-hidden":"Stats-module_visually-hidden__T6tja",stats_container:"Stats-module_stats_container__ZcJgI",stats:"Stats-module_stats__Oq7rS",regiwall_message:"Stats-module_regiwall_message__pbJmt",get_error:"Stats-module_get_error__my7oX",error__icon:"Stats-module_error__icon__yCUPN",inline_alert__icon:"Stats-module_inline_alert__icon__MXzcW",post_error:"Stats-module_post_error___O6am",stats__controls:"Stats-module_stats__controls__hJI9v",json:"Stats-module_json__FWD7H",mistakes:"Stats-module_mistakes__dA1vb",histogram_container:"Stats-module_histogram_container__grXlP",histogram_bar:"Stats-module_histogram_bar___Mxj8",histogram_row:"Stats-module_histogram_row__jE8b_",faq:"Stats-module_faq__hcRQo",inline_carrot__icon:"Stats-module_inline_carrot__icon__G2cbk",todays_mistakes:"Stats-module_todays_mistakes__tyIhZ",regiwall_abstract_stats:"Stats-module_regiwall_abstract_stats__BkBe5",slideDown:"Stats-module_slideDown__zI6yh",flyIn:"Stats-module_flyIn__Lm8R0",flyOut:"Stats-module_flyOut__ZE75g",fadeIn:"Stats-module_fadeIn__mAZCs"}}}]);
//# sourceMappingURL=2689.46d6aa699882d1f622d7.js.map